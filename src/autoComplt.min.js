var autoComplt=function(){"use strict";Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){if(void 0===this||null===this)throw new TypeError('"this" is null or not defined');var c=this.length>>>0;for(b=+b||0,Math.abs(b)===1/0&&(b=0),0>b&&(b+=c,0>b&&(b=0));c>b;b++)if(this[b]===a)return b;return-1});var a={autoCompltListClass:"autoComplt-list",autoCompltHintClass:"autoComplt-hint",autoCompltHintSelectedClass:"autoComplt-hint-selected",maxHintNum:10,autoCompltDelay:250,hiddenArg_close_list_n_make_final_selection:"hiddenArg_close_list_n_make_final_selection",listStatus:{attr:"data-listStatus",open:"open"},keyCode:{up:38,down:40,esc:27,enter:13},defaultStyles:{autoCompltList:{maxHeight:"none",border:"1px solid #aaa",padding:"0",margin:"0",zIndex:99,overflowX:"hidden",overflowY:"auto",display:"none",position:"absolute",backgroundColor:"#fff"},autoCompltHint:{height:"1.5em",padding:"2px 6px 2px 10px",margin:"6px 0",overflow:"hidden",listStyleType:"none",color:"#000",backgroundColor:"#fff",cursor:"default",fontSize:"1em"},autoCompltHintSelected:{color:"#fff",backgroundColor:"#3399ff"}},adjStyleAttrs:{autoCompltList:["border","maxHeight","backgroundColor"],autoCompltHint:["height","padding","margin","color","backgroundColor","fontSize"],autoCompltHintSelected:["color","backgroundColor"]},listenersSupported:["select"]},b=function(a){return a||(a=window.event),a.target||(a.target=a.srcElement),a.stopBubble=function(){this.cancelBubble=!0,this.stopPropoagation&&this.stopPropoagation()},a.stopDefault=function(){return this.preventDefault&&this.preventDefault(),this.returnValue=!1,!1},a},c=function(a,b,c){a.addEventListener?a.addEventListener(b,c):a.attachEvent&&a.attachEvent("on"+b,c)},d=function(a,b,c){a.removeEventListener?a.removeEventListener(b,c):a.detachEvent&&a.detachEvent("on"+b,c)},e=function(a,b){var c=null;if(window.getComputedStyle)c=window.getComputedStyle(a)[b]||null;else if(a.currentStyle){c=a.currentStyle&&a.currentStyle[b];var d,e,f=a.style;null==c&&f&&f[b]&&(c=f[b]),d=f.left,e=a.runtimeStyle&&a.runtimeStyle.left,e&&(a.runtimeStyle.left=a.currentStyle.left),f.left="fontSize"===b?"1em":c,c=f.pixelLeft+"px",f.left=d,e&&(a.runtimeStyle.left=e)}return c},f={buildElem:function(a){var b=document.createElement("DIV");return b.innerHTML=a,b.firstChild.cloneNode(!0)},buildHint:function(b,c){return"string"==typeof b&&b?(b=this.buildElem('<li class="'+a.autoCompltHintClass+'">'+b+"</li>"),b.style.height=b.style.lineHeight=c.autoCompltHint.height,b.style.padding=c.autoCompltHint.padding,b.style.margin=c.autoCompltHint.margin,b.style.overflow=c.autoCompltHint.overflow,b.style.listStyleType=c.autoCompltHint.listStyleType,b.style.color=c.autoCompltHint.color,b.style.backgroundColor=c.autoCompltHint.backgroundColor,b.style.cursor=c.autoCompltHint.cursor,b.style.fontSize=c.autoCompltHint.fontSize,b):null},buildList:function(b){var c=this.buildElem('<ul class="'+a.autoCompltListClass+'"></ul>');return c.style.maxHeight=b.autoCompltList.maxHeight,c.style.border=b.autoCompltList.border,c.style.padding=b.autoCompltList.padding,c.style.margin=b.autoCompltList.margin,c.style.zIndex=b.autoCompltList.zIndex,c.style.overflowX=b.autoCompltList.overflowX,c.style.overflowY=b.autoCompltList.overflowY,c.style.display=b.autoCompltList.display,c.style.position=b.autoCompltList.position,c.style.backgroundColor=b.autoCompltList.backgroundColor,c}},g=function(b){this.uiElem=null,this.assocInput=b,this.mouseOnList=!1,this.onMouseSelectionListener=null,this.maxHintNum=a.maxHintNum,this.styles=JSON.parse(JSON.stringify(a.defaultStyles))};g.prototype.genList=function(){if(!this.uiElem){var a=this;this.uiElem=f.buildList(this.styles),c(this.uiElem,"mouseover",function(c){c=b(c),a.isHint(c.target)&&(a.pick(c.target),a.autoScroll())}),c(this.uiElem,"mouseout",function(){a.unpick()}),c(this.uiElem,"mousedown",function(){a.mouseOnList=!0,setTimeout(function(){a.assocInput.focus()},50)}),c(this.uiElem,"mouseup",function(c){c=b(c),a.isHint(c.target)&&(a.pick(c.target),"function"==typeof a.onMouseSelectionListener&&a.onMouseSelectionListener())}),document.body.appendChild(this.uiElem)}},g.prototype.isHint=function(b){if(b&&"object"==typeof b&&1===b.nodeType){var c=" "+b.className+" ";return c.indexOf(" "+a.autoCompltHintClass+" ")>=0}return!1},g.prototype.putHints=function(a){var b=0;if(a instanceof Array){var c,d,e=[];for(d=Math.min(a.length,this.maxHintNum),c=0;d>c;c++)e.push(f.buildHint(a[c],this.styles)),e[e.length-1]||e.pop();if(e.length>0){var g=document.createDocumentFragment();for(c=0,b=e.length;b>c;c++)g.appendChild(e[c]);this.clearHints(),this.genList(),this.uiElem.appendChild(g)}}return b},g.prototype.clearHints=function(){this.uiElem&&(this.uiElem.innerHTML="")},g.prototype.isOpen=function(){return this.uiElem?this.uiElem.getAttribute(a.listStatus.attr)==a.listStatus.open:!1},g.prototype.open=function(){var b;if(this.uiElem&&(b=this.uiElem.querySelectorAll("."+a.autoCompltHintClass))&&b.length){var c,d;for(d=this.assocInput.getBoundingClientRect(),this.uiElem.style.top=(document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop)+d.bottom+"px",this.uiElem.style.left=d.left+"px",d=d.right-d.left-parseFloat(e(this.uiElem,"borderLeftWidth"))-parseFloat(e(this.uiElem,"borderRightWidth")),this.uiElem.style.width=d+"px",c=0,d=0;c<b.length;c++)d+=parseFloat(e(b[c],"height"))+parseFloat(e(b[c],"paddingTop"))+parseFloat(e(b[c],"paddingBottom")),b[c+1]&&(d+=Math.max(parseFloat(e(b[c],"marginBottom")),parseFloat(e(b[c+1],"marginTop"))));d+=parseFloat(e(b[0],"marginTop"))+parseFloat(e(b[b.length-1],"marginBottom")),this.uiElem.style.height=d+1+"px",this.uiElem.setAttribute(a.listStatus.attr,a.listStatus.open),this.uiElem.style.display="block"}},g.prototype.close=function(){this.uiElem&&(this.mouseOnList=!1,this.uiElem.parentNode.removeChild(this.uiElem),this.uiElem=null)},g.prototype.autoScroll=function(){var a=this.getPicked();if(a){var b,c=0,d=0,f=a.clientHeight,g=parseFloat(e(a,"marginTop")),h=parseFloat(e(a,"marginBottom"));for(b=a.previousSibling,d=f+(b?Math.max(g,h):g);b;)c+=f,b=b.previousSibling,c+=b?Math.max(g,h):g;(this.uiElem.clientHeight+this.uiElem.scrollTop-c<d||c-this.uiElem.scrollTop<d)&&(this.uiElem.scrollTop=c)}},g.prototype.pick=function(b){if(this.uiElem){var c=null;if(this.isHint(b))c=b;else if("number"==typeof b&&(b>=0||-1===b)){var d=this.uiElem.querySelectorAll("."+a.autoCompltHintClass);d.length>0&&(c=+b,c=-1===c||c>d.length-1?d.length-1:c,c=d[c])}null!==c&&(this.unpick(),c.className+=" "+a.autoCompltHintSelectedClass,c.style.color=this.styles.autoCompltHintSelected.color,c.style.backgroundColor=this.styles.autoCompltHintSelected.backgroundColor)}},g.prototype.unpick=function(){if(this.uiElem){var b=this.getPicked();b&&(b.className=a.autoCompltHintClass,b.style.color=this.styles.autoCompltHint.color,b.style.backgroundColor=this.styles.autoCompltHint.backgroundColor)}},g.prototype.getPicked=function(){return this.uiElem?this.uiElem.querySelector("."+a.autoCompltHintSelectedClass)||null:null};var h={enable:function(e,f){if(e&&"object"==typeof e&&"string"==typeof e.tagName&&"input"==e.tagName.toLowerCase()&&"text"==e.type&&1===e.nodeType&&!e.autoComplt){e.autoComplt={};var h=a.autoCompltDelay,i=!0,j="",k=null,l=null,m=new g(e),n=function(){if(e.value.length>0&&i&&"function"==typeof k&&j!==e.value){var a={that:e,compltTarget:j=e.value,compltTargetMatchCurrentTarget:function(){return a.compltTarget===j},call:function(){a.compltTargetMatchCurrentTarget()&&k.call(a.that,a.compltTarget,a.openHint)},openHint:function(b){a.compltTargetMatchCurrentTarget()&&(m.putHints(b)?m.open():a.that.autoComplt.close())}};setTimeout(a.call,h)}},o=function(){if(i){var a=m.getPicked();e.value=a?a.innerHTML:j}},p=function(){m.mouseOnList?(e.focus(),m.mouseOnList=!1):m.isOpen()&&e.autoComplt.close(a.hiddenArg_close_list_n_make_final_selection)},q=function(c){if(c=b(c),i)if("keydown"!=c.type||!m.isOpen()||c.keyCode!==a.keyCode.up&&c.keyCode!==a.keyCode.down){if("keyup"==c.type){var d=!1;switch(c.keyCode){case a.keyCode.up:case a.keyCode.down:m.isOpen()||(d=!0);break;case a.keyCode.esc:m.isOpen()&&(e.value=j,e.autoComplt.close(a.hiddenArg_close_list_n_make_final_selection));break;case a.keyCode.enter:m.isOpen()&&(o(),e.autoComplt.close(a.hiddenArg_close_list_n_make_final_selection));break;default:d=!0}d&&(e.value.length>0?n():e.autoComplt.close())}}else{var f=m.getPicked();c.keyCode===a.keyCode.up?f?f.previousSibling?m.pick(f.previousSibling):m.unpick():m.pick(-1):c.keyCode===a.keyCode.down&&(f?f.nextSibling?m.pick(f.nextSibling):m.unpick():m.pick(0)),m.autoScroll(),o()}},r=function(a){null!=l&&"function"==typeof l[a]&&l[a].call(e)};return e.autoComplt.setHintsFetcher=function(a){return null===a||"function"==typeof a?(k=a,!0):!1},e.autoComplt.setListener=function(b,c){return(null===c||"function"==typeof c)&&a.listenersSupported.indexOf(b)>=0?(null==l&&(l={}),l[b]=c,!0):!1},e.autoComplt.setStyles=function(b,c){var d,e,f=!1;switch(b){case a.autoCompltListClass:d=m.styles.autoCompltList,e=a.adjStyleAttrs.autoCompltList;break;case a.autoCompltHintClass:d=m.styles.autoCompltHint,e=a.adjStyleAttrs.autoCompltHint;break;case a.autoCompltHintSelectedClass:d=m.styles.autoCompltHintSelected,e=a.adjStyleAttrs.autoCompltHintSelected}if(c instanceof Object&&d&&e)for(var g=0;g<e.length;g++)("string"==typeof c[e[g]]||"number"==typeof c[e[g]])&&(f||(f={}),f[e[g]]=d[e[g]]=c[e[g]]);return f},e.autoComplt.config=function(a){var b=!1;if(a instanceof Object){var c;void 0!==a.delay&&(c=Math.floor(a.delay))>0&&(b||(b={}),h=b.delay=c),void 0!==a.maxHintNum&&(c=Math.floor(a.maxHintNum))>0&&(b||(b={}),m.maxHintNum=b.maxHintNum=c)}return b},e.autoComplt.close=function(){j="",m.close(),i&&""!==e.value&&arguments[0]===a.hiddenArg_close_list_n_make_final_selection&&r("select")},e.autoComplt.enable=function(){i=!0},e.autoComplt.disable=function(){i=!1,this.close()},e.autoComplt.destroy=function(){d(e,"blur",p),d(e,"keyup",q),d(e,"keydown",q),this.disable(),delete e.autoComplt},m.onMouseSelectionListener=function(){o(),e.autoComplt.close(a.hiddenArg_close_list_n_make_final_selection)},c(e,"blur",p),c(e,"keyup",q),c(e,"keydown",q),f instanceof Object&&(e.autoComplt.config(f),e.autoComplt.setHintsFetcher(f.hintsFetcher)),e}return null}};return h}(),autoComplt=function(){"use strict";Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){if(void 0===this||null===this)throw new TypeError('"this" is null or not defined');var c=this.length>>>0;for(b=+b||0,Math.abs(b)===1/0&&(b=0),0>b&&(b+=c,0>b&&(b=0));c>b;b++)if(this[b]===a)return b;return-1});var a={autoCompltListClass:"autoComplt-list",autoCompltHintClass:"autoComplt-hint",autoCompltHintSelectedClass:"autoComplt-hint-selected",maxHintNum:10,autoCompltDelay:250,hiddenArg_close_list_n_make_final_selection:"hiddenArg_close_list_n_make_final_selection",listStatus:{attr:"data-listStatus",open:"open"},keyCode:{up:38,down:40,esc:27,enter:13},defaultStyles:{autoCompltList:{maxHeight:"none",border:"1px solid #aaa",padding:"0",margin:"0",zIndex:99,overflowX:"hidden",overflowY:"auto",display:"none",position:"absolute",backgroundColor:"#fff"},autoCompltHint:{height:"1.5em",padding:"2px 6px 2px 10px",margin:"6px 0",overflow:"hidden",listStyleType:"none",color:"#000",backgroundColor:"#fff",cursor:"default",fontSize:"1em"},autoCompltHintSelected:{color:"#fff",backgroundColor:"#3399ff"}},adjStyleAttrs:{autoCompltList:["border","maxHeight","backgroundColor"],autoCompltHint:["height","padding","margin","color","backgroundColor","fontSize"],autoCompltHintSelected:["color","backgroundColor"]},listenersSupported:["select"]},b=function(a){return a||(a=window.event),a.target||(a.target=a.srcElement),a.stopBubble=function(){this.cancelBubble=!0,this.stopPropoagation&&this.stopPropoagation()},a.stopDefault=function(){return this.preventDefault&&this.preventDefault(),this.returnValue=!1,!1},a},c=function(a,b,c){a.addEventListener?a.addEventListener(b,c):a.attachEvent&&a.attachEvent("on"+b,c)},d=function(a,b,c){a.removeEventListener?a.removeEventListener(b,c):a.detachEvent&&a.detachEvent("on"+b,c)},e=function(a,b){var c=null;if(window.getComputedStyle)c=window.getComputedStyle(a)[b]||null;else if(a.currentStyle){c=a.currentStyle&&a.currentStyle[b];var d,e,f=a.style;null==c&&f&&f[b]&&(c=f[b]),d=f.left,e=a.runtimeStyle&&a.runtimeStyle.left,e&&(a.runtimeStyle.left=a.currentStyle.left),f.left="fontSize"===b?"1em":c,c=f.pixelLeft+"px",f.left=d,e&&(a.runtimeStyle.left=e)}return c},f={buildElem:function(a){var b=document.createElement("DIV");return b.innerHTML=a,b.firstChild.cloneNode(!0)},buildHint:function(b,c){return"string"==typeof b&&b?(b=this.buildElem('<li class="'+a.autoCompltHintClass+'">'+b+"</li>"),b.style.height=b.style.lineHeight=c.autoCompltHint.height,b.style.padding=c.autoCompltHint.padding,b.style.margin=c.autoCompltHint.margin,b.style.overflow=c.autoCompltHint.overflow,b.style.listStyleType=c.autoCompltHint.listStyleType,b.style.color=c.autoCompltHint.color,b.style.backgroundColor=c.autoCompltHint.backgroundColor,b.style.cursor=c.autoCompltHint.cursor,b.style.fontSize=c.autoCompltHint.fontSize,b):null},buildList:function(b){var c=this.buildElem('<ul class="'+a.autoCompltListClass+'"></ul>');return c.style.maxHeight=b.autoCompltList.maxHeight,c.style.border=b.autoCompltList.border,c.style.padding=b.autoCompltList.padding,c.style.margin=b.autoCompltList.margin,c.style.zIndex=b.autoCompltList.zIndex,c.style.overflowX=b.autoCompltList.overflowX,c.style.overflowY=b.autoCompltList.overflowY,c.style.display=b.autoCompltList.display,c.style.position=b.autoCompltList.position,c.style.backgroundColor=b.autoCompltList.backgroundColor,c}},g=function(b){this.uiElem=null,this.assocInput=b,this.mouseOnList=!1,this.onMouseSelectionListener=null,this.maxHintNum=a.maxHintNum,this.styles=JSON.parse(JSON.stringify(a.defaultStyles))};g.prototype.genList=function(){if(!this.uiElem){var a=this;this.uiElem=f.buildList(this.styles),c(this.uiElem,"mouseover",function(c){c=b(c),a.isHint(c.target)&&(a.pick(c.target),a.autoScroll())}),c(this.uiElem,"mouseout",function(){a.unpick()}),c(this.uiElem,"mousedown",function(){a.mouseOnList=!0,setTimeout(function(){a.assocInput.focus()},50)}),c(this.uiElem,"mouseup",function(c){c=b(c),a.isHint(c.target)&&(a.pick(c.target),"function"==typeof a.onMouseSelectionListener&&a.onMouseSelectionListener())}),document.body.appendChild(this.uiElem)}},g.prototype.isHint=function(b){if(b&&"object"==typeof b&&1===b.nodeType){var c=" "+b.className+" ";return c.indexOf(" "+a.autoCompltHintClass+" ")>=0}return!1},g.prototype.putHints=function(a){var b=0;if(a instanceof Array){var c,d,e=[];for(d=Math.min(a.length,this.maxHintNum),c=0;d>c;c++)e.push(f.buildHint(a[c],this.styles)),e[e.length-1]||e.pop();if(e.length>0){var g=document.createDocumentFragment();for(c=0,b=e.length;b>c;c++)g.appendChild(e[c]);this.clearHints(),this.genList(),this.uiElem.appendChild(g)}}return b},g.prototype.clearHints=function(){this.uiElem&&(this.uiElem.innerHTML="")},g.prototype.isOpen=function(){return this.uiElem?this.uiElem.getAttribute(a.listStatus.attr)==a.listStatus.open:!1},g.prototype.open=function(){var b;if(this.uiElem&&(b=this.uiElem.querySelectorAll("."+a.autoCompltHintClass))&&b.length){var c,d;for(d=this.assocInput.getBoundingClientRect(),this.uiElem.style.top=(document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop)+d.bottom+"px",this.uiElem.style.left=d.left+"px",d=d.right-d.left-parseFloat(e(this.uiElem,"borderLeftWidth"))-parseFloat(e(this.uiElem,"borderRightWidth")),this.uiElem.style.width=d+"px",c=0,d=0;c<b.length;c++)d+=parseFloat(e(b[c],"height"))+parseFloat(e(b[c],"paddingTop"))+parseFloat(e(b[c],"paddingBottom")),b[c+1]&&(d+=Math.max(parseFloat(e(b[c],"marginBottom")),parseFloat(e(b[c+1],"marginTop"))));d+=parseFloat(e(b[0],"marginTop"))+parseFloat(e(b[b.length-1],"marginBottom")),this.uiElem.style.height=d+1+"px",this.uiElem.setAttribute(a.listStatus.attr,a.listStatus.open),this.uiElem.style.display="block"}},g.prototype.close=function(){this.uiElem&&(this.mouseOnList=!1,this.uiElem.parentNode.removeChild(this.uiElem),this.uiElem=null)},g.prototype.autoScroll=function(){var a=this.getPicked();if(a){var b,c=0,d=0,f=a.clientHeight,g=parseFloat(e(a,"marginTop")),h=parseFloat(e(a,"marginBottom"));for(b=a.previousSibling,d=f+(b?Math.max(g,h):g);b;)c+=f,b=b.previousSibling,c+=b?Math.max(g,h):g;(this.uiElem.clientHeight+this.uiElem.scrollTop-c<d||c-this.uiElem.scrollTop<d)&&(this.uiElem.scrollTop=c)}},g.prototype.pick=function(b){if(this.uiElem){var c=null;if(this.isHint(b))c=b;else if("number"==typeof b&&(b>=0||-1===b)){var d=this.uiElem.querySelectorAll("."+a.autoCompltHintClass);d.length>0&&(c=+b,c=-1===c||c>d.length-1?d.length-1:c,c=d[c])}null!==c&&(this.unpick(),c.className+=" "+a.autoCompltHintSelectedClass,c.style.color=this.styles.autoCompltHintSelected.color,c.style.backgroundColor=this.styles.autoCompltHintSelected.backgroundColor)}},g.prototype.unpick=function(){if(this.uiElem){var b=this.getPicked();b&&(b.className=a.autoCompltHintClass,b.style.color=this.styles.autoCompltHint.color,b.style.backgroundColor=this.styles.autoCompltHint.backgroundColor)}},g.prototype.getPicked=function(){return this.uiElem?this.uiElem.querySelector("."+a.autoCompltHintSelectedClass)||null:null};var h={enable:function(e,f){if(e&&"object"==typeof e&&"string"==typeof e.tagName&&"input"==e.tagName.toLowerCase()&&"text"==e.type&&1===e.nodeType&&!e.autoComplt){e.autoComplt={};var h=a.autoCompltDelay,i=!0,j="",k=null,l=null,m=new g(e),n=function(){if(e.value.length>0&&i&&"function"==typeof k&&j!==e.value){var a={that:e,compltTarget:j=e.value,compltTargetMatchCurrentTarget:function(){return a.compltTarget===j},call:function(){a.compltTargetMatchCurrentTarget()&&k.call(a.that,a.compltTarget,a.openHint)},openHint:function(b){a.compltTargetMatchCurrentTarget()&&(m.putHints(b)?m.open():a.that.autoComplt.close())}};setTimeout(a.call,h)}},o=function(){if(i){var a=m.getPicked();e.value=a?a.innerHTML:j}},p=function(){m.mouseOnList?(e.focus(),m.mouseOnList=!1):e.autoComplt.close(a.hiddenArg_close_list_n_make_final_selection)},q=function(c){if(c=b(c),i)if("keydown"!=c.type||!m.isOpen()||c.keyCode!==a.keyCode.up&&c.keyCode!==a.keyCode.down){if("keyup"==c.type){var d=!1;switch(c.keyCode){case a.keyCode.up:case a.keyCode.down:m.isOpen()||(d=!0);break;case a.keyCode.esc:m.isOpen()&&(e.value=j,e.autoComplt.close(a.hiddenArg_close_list_n_make_final_selection));break;case a.keyCode.enter:m.isOpen()&&(o(),e.autoComplt.close(a.hiddenArg_close_list_n_make_final_selection));break;default:d=!0}d&&(e.value.length>0?n():e.autoComplt.close())}}else{var f=m.getPicked();c.keyCode===a.keyCode.up?f?f.previousSibling?m.pick(f.previousSibling):m.unpick():m.pick(-1):c.keyCode===a.keyCode.down&&(f?f.nextSibling?m.pick(f.nextSibling):m.unpick():m.pick(0)),m.autoScroll(),o()}},r=function(a){null!=l&&"function"==typeof l[a]&&l[a].call(e)};return e.autoComplt.setHintsFetcher=function(a){return null===a||"function"==typeof a?(k=a,!0):!1},e.autoComplt.setListener=function(b,c){return(null===c||"function"==typeof c)&&a.listenersSupported.indexOf(b)>=0?(null==l&&(l={}),l[b]=c,!0):!1},e.autoComplt.setStyles=function(b,c){var d,e,f=!1;switch(b){case a.autoCompltListClass:d=m.styles.autoCompltList,e=a.adjStyleAttrs.autoCompltList;break;case a.autoCompltHintClass:d=m.styles.autoCompltHint,e=a.adjStyleAttrs.autoCompltHint;break;case a.autoCompltHintSelectedClass:d=m.styles.autoCompltHintSelected,e=a.adjStyleAttrs.autoCompltHintSelected}if(c instanceof Object&&d&&e)for(var g=0;g<e.length;g++)("string"==typeof c[e[g]]||"number"==typeof c[e[g]])&&(f||(f={}),f[e[g]]=d[e[g]]=c[e[g]]);return f},e.autoComplt.config=function(a){var b=!1;if(a instanceof Object){var c;void 0!==a.delay&&(c=Math.floor(a.delay))>0&&(b||(b={}),h=b.delay=c),void 0!==a.maxHintNum&&(c=Math.floor(a.maxHintNum))>0&&(b||(b={}),m.maxHintNum=b.maxHintNum=c)}return b},e.autoComplt.close=function(){j="",m.close(),i&&""!==e.value&&arguments[0]===a.hiddenArg_close_list_n_make_final_selection&&r("select")},e.autoComplt.enable=function(){i=!0},e.autoComplt.disable=function(){i=!1,this.close()},e.autoComplt.destroy=function(){d(e,"blur",p),d(e,"keyup",q),d(e,"keydown",q),this.disable(),delete e.autoComplt},m.onMouseSelectionListener=function(){o(),e.autoComplt.close(a.hiddenArg_close_list_n_make_final_selection)},c(e,"blur",p),c(e,"keyup",q),c(e,"keydown",q),f instanceof Object&&(e.autoComplt.config(f),e.autoComplt.setHintsFetcher(f.hintsFetcher)),e}return null}};return h}(),autoComplt=function(){"use strict";Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){if(void 0===this||null===this)throw new TypeError('"this" is null or not defined');var c=this.length>>>0;for(b=+b||0,Math.abs(b)===1/0&&(b=0),0>b&&(b+=c,0>b&&(b=0));c>b;b++)if(this[b]===a)return b;return-1});var a={autoCompltListClass:"autoComplt-list",autoCompltHintClass:"autoComplt-hint",autoCompltHintSelectedClass:"autoComplt-hint-selected",maxHintNum:10,autoCompltDelay:250,hiddenArg_close_list_n_make_final_selection:"hiddenArg_close_list_n_make_final_selection",listStatus:{attr:"data-listStatus",open:"open"},keyCode:{up:38,down:40,esc:27,enter:13},defaultStyles:{autoCompltList:{maxHeight:"none",border:"1px solid #aaa",padding:"0",margin:"0",zIndex:99,overflowX:"hidden",overflowY:"auto",display:"none",position:"absolute",backgroundColor:"#fff"},autoCompltHint:{height:"1.5em",padding:"2px 6px 2px 10px",margin:"6px 0",overflow:"hidden",listStyleType:"none",color:"#000",backgroundColor:"#fff",cursor:"default",fontSize:"1em"},autoCompltHintSelected:{color:"#fff",backgroundColor:"#3399ff"}},adjStyleAttrs:{autoCompltList:["border","maxHeight","backgroundColor"],autoCompltHint:["height","padding","margin","color","backgroundColor","fontSize"],autoCompltHintSelected:["color","backgroundColor"]},listenersSupported:["select"]},b=function(a){return a=a||window.event,a.target=a.target||a.srcElement,a.stopBubble=function(){this.cancelBubble=!0,this.stopPropoagation&&this.stopPropoagation()},a.stopDefault=function(){return this.preventDefault&&this.preventDefault(),this.returnValue=!1,!1},a},c=function(a,b,c){a.addEventListener?a.addEventListener(b,c):a.attachEvent&&a.attachEvent("on"+b,c)},d=function(a,b,c){a.removeEventListener?a.removeEventListener(b,c):a.detachEvent&&a.detachEvent("on"+b,c)},e=function(a,b){var c=null;if(window.getComputedStyle)c=window.getComputedStyle(a)[b]||null;else if(a.currentStyle){c=a.currentStyle&&a.currentStyle[b];var d,e,f=a.style;null==c&&f&&f[b]&&(c=f[b]),d=f.left,e=a.runtimeStyle&&a.runtimeStyle.left,e&&(a.runtimeStyle.left=a.currentStyle.left),f.left="fontSize"===b?"1em":c,c=f.pixelLeft+"px",f.left=d,e&&(a.runtimeStyle.left=e)}return c},f={buildElem:function(a){var b=document.createElement("DIV");return b.innerHTML=a,b.firstChild.cloneNode(!0)},buildHint:function(b,c){return"string"==typeof b&&b?(b=this.buildElem('<li class="'+a.autoCompltHintClass+'">'+b+"</li>"),b.style.height=b.style.lineHeight=c.autoCompltHint.height,b.style.padding=c.autoCompltHint.padding,b.style.margin=c.autoCompltHint.margin,b.style.overflow=c.autoCompltHint.overflow,b.style.listStyleType=c.autoCompltHint.listStyleType,b.style.color=c.autoCompltHint.color,b.style.backgroundColor=c.autoCompltHint.backgroundColor,b.style.cursor=c.autoCompltHint.cursor,b.style.fontSize=c.autoCompltHint.fontSize,b):null},buildList:function(b){var c=this.buildElem('<ul class="'+a.autoCompltListClass+'"></ul>');return c.style.maxHeight=b.autoCompltList.maxHeight,c.style.border=b.autoCompltList.border,c.style.padding=b.autoCompltList.padding,c.style.margin=b.autoCompltList.margin,c.style.zIndex=b.autoCompltList.zIndex,c.style.overflowX=b.autoCompltList.overflowX,c.style.overflowY=b.autoCompltList.overflowY,c.style.display=b.autoCompltList.display,c.style.position=b.autoCompltList.position,c.style.backgroundColor=b.autoCompltList.backgroundColor,c}},g=function(b){this.uiElem=null,this.assocInput=b,this.mouseOnList=!1,this.onMouseSelectionListener=null,this.maxHintNum=a.maxHintNum,this.styles=JSON.parse(JSON.stringify(a.defaultStyles))};g.prototype.genList=function(){if(!this.uiElem){var a=this;this.uiElem=f.buildList(this.styles),c(this.uiElem,"mouseover",function(c){c=b(c),a.isHint(c.target)&&(a.pick(c.target),a.autoScroll())}),c(this.uiElem,"mouseout",function(){a.unpick()}),c(this.uiElem,"mousedown",function(){a.mouseOnList=!0,setTimeout(function(){a.assocInput.focus()},50)}),c(this.uiElem,"mouseup",function(c){c=b(c),a.isHint(c.target)&&(a.pick(c.target),"function"==typeof a.onMouseSelectionListener&&a.onMouseSelectionListener())}),document.body.appendChild(this.uiElem)}},g.prototype.isHint=function(b){if(b&&"object"==typeof b&&1===b.nodeType){var c=" "+b.className+" ";return c.indexOf(" "+a.autoCompltHintClass+" ")>=0}return!1},g.prototype.putHints=function(a){var b=0;if(a instanceof Array){var c,d,e=[];for(d=Math.min(a.length,this.maxHintNum),c=0;d>c;c++)e.push(f.buildHint(a[c],this.styles)),e[e.length-1]||e.pop();if(e.length>0){var g=document.createDocumentFragment();for(c=0,b=e.length;b>c;c++)g.appendChild(e[c]);this.clearHints(),this.genList(),this.uiElem.appendChild(g)}}return b},g.prototype.clearHints=function(){this.uiElem&&(this.uiElem.innerHTML="")},g.prototype.isOpen=function(){return this.uiElem?this.uiElem.getAttribute(a.listStatus.attr)==a.listStatus.open:!1},g.prototype.open=function(){var b;if(this.uiElem&&(b=this.uiElem.querySelectorAll("."+a.autoCompltHintClass))&&b.length){var c,d;for(d=this.assocInput.getBoundingClientRect(),this.uiElem.style.top=(document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop)+d.bottom+"px",this.uiElem.style.left=d.left+"px",d=d.right-d.left-parseFloat(e(this.uiElem,"borderLeftWidth"))-parseFloat(e(this.uiElem,"borderRightWidth")),this.uiElem.style.width=d+"px",c=0,d=0;c<b.length;c++)d+=parseFloat(e(b[c],"height"))+parseFloat(e(b[c],"paddingTop"))+parseFloat(e(b[c],"paddingBottom")),b[c+1]&&(d+=Math.max(parseFloat(e(b[c],"marginBottom")),parseFloat(e(b[c+1],"marginTop"))));d+=parseFloat(e(b[0],"marginTop"))+parseFloat(e(b[b.length-1],"marginBottom")),this.uiElem.style.height=d+1+"px",this.uiElem.setAttribute(a.listStatus.attr,a.listStatus.open),this.uiElem.style.display="block"}},g.prototype.close=function(){this.uiElem&&(this.mouseOnList=!1,this.uiElem.parentNode.removeChild(this.uiElem),this.uiElem=null)},g.prototype.autoScroll=function(){var a=this.getPicked();if(a){var b,c=0,d=0,f=a.clientHeight,g=parseFloat(e(a,"marginTop")),h=parseFloat(e(a,"marginBottom"));for(b=a.previousSibling,d=f+(b?Math.max(g,h):g);b;)c+=f,b=b.previousSibling,c+=b?Math.max(g,h):g;(this.uiElem.clientHeight+this.uiElem.scrollTop-c<d||c-this.uiElem.scrollTop<d)&&(this.uiElem.scrollTop=c)}},g.prototype.pick=function(b){if(this.uiElem){var c=null;if(this.isHint(b))c=b;else if("number"==typeof b&&(b>=0||-1===b)){var d=this.uiElem.querySelectorAll("."+a.autoCompltHintClass);d.length>0&&(c=+b,c=-1===c||c>d.length-1?d.length-1:c,c=d[c])}null!==c&&(this.unpick(),c.className+=" "+a.autoCompltHintSelectedClass,c.style.color=this.styles.autoCompltHintSelected.color,c.style.backgroundColor=this.styles.autoCompltHintSelected.backgroundColor)}},g.prototype.unpick=function(){if(this.uiElem){var b=this.getPicked();b&&(b.className=a.autoCompltHintClass,b.style.color=this.styles.autoCompltHint.color,b.style.backgroundColor=this.styles.autoCompltHint.backgroundColor)}},g.prototype.getPicked=function(){return this.uiElem?this.uiElem.querySelector("."+a.autoCompltHintSelectedClass)||null:null};var h={enable:function(e,f){if(e&&"object"==typeof e&&"string"==typeof e.tagName&&"input"==e.tagName.toLowerCase()&&"text"==e.type&&1===e.nodeType&&!e.autoComplt){e.autoComplt={};var h=a.autoCompltDelay,i=!0,j="",k=null,l=null,m=new g(e),n=function(){if(e.value.length>0&&i&&"function"==typeof k&&j!==e.value){var a={that:e,compltTarget:j=e.value,compltTargetMatchCurrentTarget:function(){return a.compltTarget===j},call:function(){a.compltTargetMatchCurrentTarget()&&k.call(a.that,a.compltTarget,a.openHint)},openHint:function(b){a.compltTargetMatchCurrentTarget()&&(m.putHints(b)?m.open():a.that.autoComplt.close())}};setTimeout(a.call,h)}},o=function(){if(i){var a=m.getPicked();e.value=a?a.innerHTML:j}},p=function(){m.mouseOnList?(e.focus(),m.mouseOnList=!1):e.autoComplt.close(a.hiddenArg_close_list_n_make_final_selection)},q=function(c){if(c=b(c),i)if("keydown"!=c.type||!m.isOpen()||c.keyCode!==a.keyCode.up&&c.keyCode!==a.keyCode.down){if("keyup"==c.type){var d=!1;switch(c.keyCode){case a.keyCode.up:case a.keyCode.down:m.isOpen()||(d=!0);break;case a.keyCode.esc:m.isOpen()&&(e.value=j,e.autoComplt.close(a.hiddenArg_close_list_n_make_final_selection));break;case a.keyCode.enter:m.isOpen()&&(o(),e.autoComplt.close(a.hiddenArg_close_list_n_make_final_selection));break;default:d=!0}d&&(e.value.length>0?n():e.autoComplt.close())}}else{var f=m.getPicked();c.keyCode===a.keyCode.up?f?f.previousSibling?m.pick(f.previousSibling):m.unpick():m.pick(-1):c.keyCode===a.keyCode.down&&(f?f.nextSibling?m.pick(f.nextSibling):m.unpick():m.pick(0)),m.autoScroll(),o()}},r=function(a){null!=l&&"function"==typeof l[a]&&l[a].call(e)};return e.autoComplt.setHintsFetcher=function(a){return null===a||"function"==typeof a?(k=a,!0):!1},e.autoComplt.setListener=function(b,c){return(null===c||"function"==typeof c)&&a.listenersSupported.indexOf(b)>=0?(null==l&&(l={}),l[b]=c,!0):!1},e.autoComplt.setStyles=function(b,c){var d,e,f=!1;switch(b){case a.autoCompltListClass:d=m.styles.autoCompltList,e=a.adjStyleAttrs.autoCompltList;break;case a.autoCompltHintClass:d=m.styles.autoCompltHint,e=a.adjStyleAttrs.autoCompltHint;break;case a.autoCompltHintSelectedClass:d=m.styles.autoCompltHintSelected,e=a.adjStyleAttrs.autoCompltHintSelected}if(c instanceof Object&&d&&e)for(var g=0;g<e.length;g++)("string"==typeof c[e[g]]||"number"==typeof c[e[g]])&&(f||(f={}),f[e[g]]=d[e[g]]=c[e[g]]);return f},e.autoComplt.config=function(a){var b=!1;if(a instanceof Object){var c;void 0!==a.delay&&(c=Math.floor(a.delay))>0&&(b||(b={}),h=b.delay=c),void 0!==a.maxHintNum&&(c=Math.floor(a.maxHintNum))>0&&(b||(b={}),m.maxHintNum=b.maxHintNum=c)}return b},e.autoComplt.close=function(){j="",m.close(),i&&""!==e.value&&arguments[0]===a.hiddenArg_close_list_n_make_final_selection&&r("select")},e.autoComplt.enable=function(){i=!0},e.autoComplt.disable=function(){i=!1,this.close()},e.autoComplt.destroy=function(){d(e,"blur",p),d(e,"keyup",q),d(e,"keydown",q),this.disable(),delete e.autoComplt},m.onMouseSelectionListener=function(){o(),e.autoComplt.close(a.hiddenArg_close_list_n_make_final_selection)},c(e,"blur",p),c(e,"keyup",q),c(e,"keydown",q),f instanceof Object&&(e.autoComplt.config(f),e.autoComplt.setHintsFetcher(f.hintsFetcher)),e}return null}};return h}(),autoComplt=function(){"use strict";Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){if(void 0===this||null===this)throw new TypeError('"this" is null or not defined');var c=this.length>>>0;for(b=+b||0,Math.abs(b)===1/0&&(b=0),0>b&&(b+=c,0>b&&(b=0));c>b;b++)if(this[b]===a)return b;return-1});var a={autoCompltListClass:"autoComplt-list",autoCompltHintClass:"autoComplt-hint",autoCompltHintSelectedClass:"autoComplt-hint-selected",maxHintNum:10,autoCompltDelay:250,hiddenArg_close_list_n_make_final_selection:"hiddenArg_close_list_n_make_final_selection",listStatus:{attr:"data-listStatus",open:"open"},keyCode:{up:38,down:40,esc:27,enter:13},defaultStyles:{autoCompltList:{maxHeight:"none",border:"1px solid #aaa",padding:"0",margin:"0",zIndex:99,overflowX:"hidden",overflowY:"auto",display:"none",position:"absolute",backgroundColor:"#fff"},autoCompltHint:{height:"1.5em",padding:"2px 6px 2px 10px",margin:"6px 0",overflow:"hidden",listStyleType:"none",color:"#000",backgroundColor:"#fff",cursor:"default",fontSize:"1em"
},autoCompltHintSelected:{color:"#fff",backgroundColor:"#3399ff"}},adjStyleAttrs:{autoCompltList:["border","maxHeight","backgroundColor"],autoCompltHint:["height","padding","margin","color","backgroundColor","fontSize"],autoCompltHintSelected:["color","backgroundColor"]},listenersSupported:["select"]},b=function(a){return a=a||window.event,a.target=a.target||a.srcElement,a.stopBubble=function(){this.cancelBubble=!0,this.stopPropoagation&&this.stopPropoagation()},a.stopDefault=function(){return this.preventDefault&&this.preventDefault(),this.returnValue=!1,!1},a},c=function(a,b,c){a.addEventListener?a.addEventListener(b,c):a.attachEvent&&a.attachEvent("on"+b,c)},d=function(a,b,c){a.removeEventListener?a.removeEventListener(b,c):a.detachEvent&&a.detachEvent("on"+b,c)},e=function(a,b){var c=null;if(window.getComputedStyle)c=window.getComputedStyle(a)[b]||null;else if(a.currentStyle){c=a.currentStyle&&a.currentStyle[b];var d,e,f=a.style;null==c&&f&&f[b]&&(c=f[b]),d=f.left,e=a.runtimeStyle&&a.runtimeStyle.left,e&&(a.runtimeStyle.left=a.currentStyle.left),f.left="fontSize"===b?"1em":c,c=f.pixelLeft+"px",f.left=d,e&&(a.runtimeStyle.left=e)}return c},f={buildElem:function(a){var b=document.createElement("DIV");return b.innerHTML=a,b.firstChild.cloneNode(!0)},buildHint:function(b,c){return"string"==typeof b&&b?(b=this.buildElem('<li class="'+a.autoCompltHintClass+'">'+b+"</li>"),b.style.height=b.style.lineHeight=c.autoCompltHint.height,b.style.padding=c.autoCompltHint.padding,b.style.margin=c.autoCompltHint.margin,b.style.overflow=c.autoCompltHint.overflow,b.style.listStyleType=c.autoCompltHint.listStyleType,b.style.color=c.autoCompltHint.color,b.style.backgroundColor=c.autoCompltHint.backgroundColor,b.style.cursor=c.autoCompltHint.cursor,b.style.fontSize=c.autoCompltHint.fontSize,b):null},buildList:function(b){var c=this.buildElem('<ul class="'+a.autoCompltListClass+'"></ul>');return c.style.maxHeight=b.autoCompltList.maxHeight,c.style.border=b.autoCompltList.border,c.style.padding=b.autoCompltList.padding,c.style.margin=b.autoCompltList.margin,c.style.zIndex=b.autoCompltList.zIndex,c.style.overflowX=b.autoCompltList.overflowX,c.style.overflowY=b.autoCompltList.overflowY,c.style.display=b.autoCompltList.display,c.style.position=b.autoCompltList.position,c.style.backgroundColor=b.autoCompltList.backgroundColor,c}},g=function(b){this.uiElem=null,this.assocInput=b,this.mouseOnList=!1,this.onMouseSelectionListener=null,this.maxHintNum=a.maxHintNum,this.styles=JSON.parse(JSON.stringify(a.defaultStyles))};g.prototype.genList=function(){if(!this.uiElem){var a=this;this.uiElem=f.buildList(this.styles),c(this.uiElem,"mouseover",function(c){c=b(c),a.isHint(c.target)&&(a.pick(c.target),a.autoScroll())}),c(this.uiElem,"mouseout",function(){a.unpick()}),c(this.uiElem,"mousedown",function(){a.mouseOnList=!0,setTimeout(function(){a.assocInput.focus()},50)}),c(this.uiElem,"mouseup",function(c){c=b(c),a.isHint(c.target)&&(a.pick(c.target),"function"==typeof a.onMouseSelectionListener&&a.onMouseSelectionListener())}),document.body.appendChild(this.uiElem)}},g.prototype.isHint=function(b){if(b&&"object"==typeof b&&1===b.nodeType){var c=" "+b.className+" ";return c.indexOf(" "+a.autoCompltHintClass+" ")>=0}return!1},g.prototype.putHints=function(a){var b=0;if(a instanceof Array){var c,d,e=[];for(d=Math.min(a.length,this.maxHintNum),c=0;d>c;c++)e.push(f.buildHint(a[c],this.styles)),e[e.length-1]||e.pop();if(e.length>0){var g=document.createDocumentFragment();for(c=0,b=e.length;b>c;c++)g.appendChild(e[c]);this.clearHints(),this.genList(),this.uiElem.appendChild(g)}}return b},g.prototype.clearHints=function(){this.uiElem&&(this.uiElem.innerHTML="")},g.prototype.isOpen=function(){return this.uiElem?this.uiElem.getAttribute(a.listStatus.attr)==a.listStatus.open:!1},g.prototype.open=function(){var b;if(this.uiElem&&(b=this.uiElem.querySelectorAll("."+a.autoCompltHintClass))&&b.length){var c,d;for(d=this.assocInput.getBoundingClientRect(),this.uiElem.style.top=(document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop)+d.bottom+"px",this.uiElem.style.left=d.left+"px",d=d.right-d.left-parseFloat(e(this.uiElem,"borderLeftWidth"))-parseFloat(e(this.uiElem,"borderRightWidth")),this.uiElem.style.width=d+"px",c=0,d=0;c<b.length;c++)d+=parseFloat(e(b[c],"height"))+parseFloat(e(b[c],"paddingTop"))+parseFloat(e(b[c],"paddingBottom")),b[c+1]&&(d+=Math.max(parseFloat(e(b[c],"marginBottom")),parseFloat(e(b[c+1],"marginTop"))));d+=parseFloat(e(b[0],"marginTop"))+parseFloat(e(b[b.length-1],"marginBottom")),this.uiElem.style.height=d+1+"px",this.uiElem.setAttribute(a.listStatus.attr,a.listStatus.open),this.uiElem.style.display="block"}},g.prototype.close=function(){this.uiElem&&(this.mouseOnList=!1,this.uiElem.parentNode.removeChild(this.uiElem),this.uiElem=null)},g.prototype.autoScroll=function(){var a=this.getPicked();if(a){var b,c=0,d=0,f=a.clientHeight,g=parseFloat(e(a,"marginTop")),h=parseFloat(e(a,"marginBottom"));for(b=a.previousSibling,d=f+(b?Math.max(g,h):g);b;)c+=f,b=b.previousSibling,c+=b?Math.max(g,h):g;(this.uiElem.clientHeight+this.uiElem.scrollTop-c<d||c-this.uiElem.scrollTop<d)&&(this.uiElem.scrollTop=c)}},g.prototype.pick=function(b){if(this.uiElem){var c=null;if(this.isHint(b))c=b;else if("number"==typeof b&&(b>=0||-1===b)){var d=this.uiElem.querySelectorAll("."+a.autoCompltHintClass);d.length>0&&(c=+b,c=-1===c||c>d.length-1?d.length-1:c,c=d[c])}null!==c&&(this.unpick(),c.className+=" "+a.autoCompltHintSelectedClass,c.style.color=this.styles.autoCompltHintSelected.color,c.style.backgroundColor=this.styles.autoCompltHintSelected.backgroundColor)}},g.prototype.unpick=function(){if(this.uiElem){var b=this.getPicked();b&&(b.className=a.autoCompltHintClass,b.style.color=this.styles.autoCompltHint.color,b.style.backgroundColor=this.styles.autoCompltHint.backgroundColor)}},g.prototype.getPicked=function(){return this.uiElem?this.uiElem.querySelector("."+a.autoCompltHintSelectedClass)||null:null};var h={enable:function(e,f){if(e&&"object"==typeof e&&"string"==typeof e.tagName&&"input"==e.tagName.toLowerCase()&&"text"==e.type&&1===e.nodeType&&!e.autoComplt){e.autoComplt={};var h=a.autoCompltDelay,i=!0,j="",k=null,l=null,m=new g(e),n=function(){if(e.value.length>0&&i&&"function"==typeof k&&j!==e.value){var a={that:e,compltTarget:j=e.value,compltTargetMatchCurrentTarget:function(){return a.compltTarget===j},call:function(){a.compltTargetMatchCurrentTarget()&&k.call(a.that,a.compltTarget,a.openHint)},openHint:function(b){a.compltTargetMatchCurrentTarget()&&(m.putHints(b)?m.open():a.that.autoComplt.close())}};setTimeout(a.call,h)}},o=function(){if(i){var a=m.getPicked();e.value=a?a.innerHTML:j}},p=function(){m.mouseOnList?(e.focus(),m.mouseOnList=!1):e.autoComplt.close(a.hiddenArg_close_list_n_make_final_selection)},q=function(c){if(c=b(c),i)if("keydown"!=c.type||!m.isOpen()||c.keyCode!==a.keyCode.up&&c.keyCode!==a.keyCode.down){if("keyup"==c.type){var d=!1;switch(c.keyCode){case a.keyCode.up:case a.keyCode.down:m.isOpen()||(d=!0);break;case a.keyCode.esc:m.isOpen()&&(e.value=j,e.autoComplt.close(a.hiddenArg_close_list_n_make_final_selection));break;case a.keyCode.enter:m.isOpen()&&(o(),e.autoComplt.close(a.hiddenArg_close_list_n_make_final_selection));break;default:d=!0}d&&(e.value.length>0?n():e.autoComplt.close())}}else{var f=m.getPicked();c.keyCode===a.keyCode.up?f?f.previousSibling?m.pick(f.previousSibling):m.unpick():m.pick(-1):c.keyCode===a.keyCode.down&&(f?f.nextSibling?m.pick(f.nextSibling):m.unpick():m.pick(0)),m.autoScroll(),o()}},r=function(a){null!=l&&"function"==typeof l[a]&&l[a].call(e)};return e.autoComplt.setHintsFetcher=function(a){return null===a||"function"==typeof a?(k=a,!0):!1},e.autoComplt.setListener=function(b,c){return(null===c||"function"==typeof c)&&a.listenersSupported.indexOf(b)>=0?(null==l&&(l={}),l[b]=c,!0):!1},e.autoComplt.setStyles=function(b,c){var d,e,f=!1;switch(b){case a.autoCompltListClass:d=m.styles.autoCompltList,e=a.adjStyleAttrs.autoCompltList;break;case a.autoCompltHintClass:d=m.styles.autoCompltHint,e=a.adjStyleAttrs.autoCompltHint;break;case a.autoCompltHintSelectedClass:d=m.styles.autoCompltHintSelected,e=a.adjStyleAttrs.autoCompltHintSelected}if(c instanceof Object&&d&&e)for(var g=0;g<e.length;g++)("string"==typeof c[e[g]]||"number"==typeof c[e[g]])&&(f||(f={}),f[e[g]]=d[e[g]]=c[e[g]]);return f},e.autoComplt.config=function(a){var b=!1;if(a instanceof Object){var c;void 0!==a.delay&&(c=Math.floor(a.delay))>0&&(b||(b={}),h=b.delay=c),void 0!==a.maxHintNum&&(c=Math.floor(a.maxHintNum))>0&&(b||(b={}),m.maxHintNum=b.maxHintNum=c)}return b},e.autoComplt.close=function(){j="",m.close(),i&&""!==e.value&&arguments[0]===a.hiddenArg_close_list_n_make_final_selection&&r("select")},e.autoComplt.enable=function(){i=!0},e.autoComplt.disable=function(){i=!1,this.close()},e.autoComplt.destroy=function(){d(e,"blur",p),d(e,"keyup",q),d(e,"keydown",q),this.disable(),delete e.autoComplt},m.onMouseSelectionListener=function(){o(),e.autoComplt.close(a.hiddenArg_close_list_n_make_final_selection)},c(e,"blur",p),c(e,"keyup",q),c(e,"keydown",q),f instanceof Object&&(e.autoComplt.config(f),e.autoComplt.setHintsFetcher(f.hintsFetcher)),e}return null}};return h}(),autoComplt=function(){"use strict";Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){if(void 0===this||null===this)throw new TypeError('"this" is null or not defined');var c=this.length>>>0;for(b=+b||0,Math.abs(b)===1/0&&(b=0),0>b&&(b+=c,0>b&&(b=0));c>b;b++)if(this[b]===a)return b;return-1});var a={autoCompltListClass:"autoComplt-list",autoCompltHintClass:"autoComplt-hint",autoCompltHintSelectedClass:"autoComplt-hint-selected",maxHintNum:10,autoCompltDelay:250,hiddenArg_close_list_n_make_final_selection:"hiddenArg_close_list_n_make_final_selection",listStatus:{attr:"data-listStatus",open:"open"},keyCode:{up:38,down:40,esc:27,enter:13},defaultStyles:{autoCompltList:{maxHeight:"none",border:"1px solid #aaa",padding:"0",margin:"0",zIndex:99,overflowX:"hidden",overflowY:"auto",display:"none",position:"absolute",backgroundColor:"#fff"},autoCompltHint:{height:"1.5em",padding:"2px 6px 2px 10px",margin:"6px 0",overflow:"hidden",listStyleType:"none",color:"#000",backgroundColor:"#fff",cursor:"default",fontSize:"1em"},autoCompltHintSelected:{color:"#fff",backgroundColor:"#3399ff"}},adjStyleAttrs:{autoCompltList:["border","maxHeight","backgroundColor"],autoCompltHint:["height","padding","margin","color","backgroundColor","fontSize"],autoCompltHintSelected:["color","backgroundColor"]},listenersSupported:["select"]},b=function(a){return a=a||window.event,a.target=a.target||a.srcElement,a.stopBubble=function(){this.cancelBubble=!0,this.stopPropoagation&&this.stopPropoagation()},a.stopDefault=function(){return this.preventDefault&&this.preventDefault(),this.returnValue=!1,!1},a},c=function(a,b,c){a.addEventListener?a.addEventListener(b,c):a.attachEvent&&a.attachEvent("on"+b,c)},d=function(a,b,c){a.removeEventListener?a.removeEventListener(b,c):a.detachEvent&&a.detachEvent("on"+b,c)},e=function(a,b){var c=null;if(window.getComputedStyle)c=window.getComputedStyle(a)[b]||null;else if(a.currentStyle){c=a.currentStyle&&a.currentStyle[b];var d,e,f=a.style;null==c&&f&&f[b]&&(c=f[b]),d=f.left,e=a.runtimeStyle&&a.runtimeStyle.left,e&&(a.runtimeStyle.left=a.currentStyle.left),f.left="fontSize"===b?"1em":c,c=f.pixelLeft+"px",f.left=d,e&&(a.runtimeStyle.left=e)}return c},f={buildElem:function(a){var b=document.createElement("DIV");return b.innerHTML=a,b.firstChild.cloneNode(!0)},buildHint:function(b,c){return"string"==typeof b&&b?(b=this.buildElem('<li class="'+a.autoCompltHintClass+'">'+b+"</li>"),b.style.height=b.style.lineHeight=c.autoCompltHint.height,b.style.padding=c.autoCompltHint.padding,b.style.margin=c.autoCompltHint.margin,b.style.overflow=c.autoCompltHint.overflow,b.style.listStyleType=c.autoCompltHint.listStyleType,b.style.color=c.autoCompltHint.color,b.style.backgroundColor=c.autoCompltHint.backgroundColor,b.style.cursor=c.autoCompltHint.cursor,b.style.fontSize=c.autoCompltHint.fontSize,b):null},buildList:function(b){var c=this.buildElem('<ul class="'+a.autoCompltListClass+'"></ul>');return c.style.maxHeight=b.autoCompltList.maxHeight,c.style.border=b.autoCompltList.border,c.style.padding=b.autoCompltList.padding,c.style.margin=b.autoCompltList.margin,c.style.zIndex=b.autoCompltList.zIndex,c.style.overflowX=b.autoCompltList.overflowX,c.style.overflowY=b.autoCompltList.overflowY,c.style.display=b.autoCompltList.display,c.style.position=b.autoCompltList.position,c.style.backgroundColor=b.autoCompltList.backgroundColor,c}},g=function(b){this.uiElem=null,this.assocInput=b,this.mouseOnList=!1,this.onMouseSelectionListener=null,this.maxHintNum=a.maxHintNum,this.styles=JSON.parse(JSON.stringify(a.defaultStyles))};g.prototype.genList=function(){if(!this.uiElem){var a=this;this.uiElem=f.buildList(this.styles),c(this.uiElem,"mouseover",function(c){c=b(c),a.isHint(c.target)&&(a.pick(c.target),a.autoScroll())}),c(this.uiElem,"mouseout",function(){a.unpick()}),c(this.uiElem,"mousedown",function(){a.mouseOnList=!0,setTimeout(function(){a.assocInput.focus()},50)}),c(this.uiElem,"mouseup",function(c){c=b(c),a.isHint(c.target)&&(a.pick(c.target),"function"==typeof a.onMouseSelectionListener&&a.onMouseSelectionListener())}),document.body.appendChild(this.uiElem)}},g.prototype.isHint=function(b){if(b&&"object"==typeof b&&1===b.nodeType){var c=" "+b.className+" ";return c.indexOf(" "+a.autoCompltHintClass+" ")>=0}return!1},g.prototype.putHints=function(a){var b=0;if(a instanceof Array){var c,d,e=[];for(d=Math.min(a.length,this.maxHintNum),c=0;d>c;c++)e.push(f.buildHint(a[c],this.styles)),e[e.length-1]||e.pop();if(e.length>0){var g=document.createDocumentFragment();for(c=0,b=e.length;b>c;c++)g.appendChild(e[c]);this.clearHints(),this.genList(),this.uiElem.appendChild(g)}}return b},g.prototype.clearHints=function(){this.uiElem&&(this.uiElem.innerHTML="")},g.prototype.isOpen=function(){return this.uiElem?this.uiElem.getAttribute(a.listStatus.attr)==a.listStatus.open:!1},g.prototype.open=function(){var b;if(this.uiElem&&(b=this.uiElem.querySelectorAll("."+a.autoCompltHintClass))&&b.length){var c,d;for(d=this.assocInput.getBoundingClientRect(),this.uiElem.style.top=(document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop)+d.bottom+"px",this.uiElem.style.left=d.left+"px",d=d.right-d.left-parseFloat(e(this.uiElem,"borderLeftWidth"))-parseFloat(e(this.uiElem,"borderRightWidth")),this.uiElem.style.width=d+"px",c=0,d=0;c<b.length;c++)d+=parseFloat(e(b[c],"height"))+parseFloat(e(b[c],"paddingTop"))+parseFloat(e(b[c],"paddingBottom")),b[c+1]&&(d+=Math.max(parseFloat(e(b[c],"marginBottom")),parseFloat(e(b[c+1],"marginTop"))));d+=parseFloat(e(b[0],"marginTop"))+parseFloat(e(b[b.length-1],"marginBottom")),this.uiElem.style.height=d+1+"px",this.uiElem.setAttribute(a.listStatus.attr,a.listStatus.open),this.uiElem.style.display="block"}},g.prototype.close=function(){this.uiElem&&(this.mouseOnList=!1,this.uiElem.parentNode.removeChild(this.uiElem),this.uiElem=null)},g.prototype.autoScroll=function(){var a=this.getPicked();if(a){var b,c=0,d=0,f=a.clientHeight,g=parseFloat(e(a,"marginTop")),h=parseFloat(e(a,"marginBottom"));for(b=a.previousSibling,d=f+(b?Math.max(g,h):g);b;)c+=f,b=b.previousSibling,c+=b?Math.max(g,h):g;(this.uiElem.clientHeight+this.uiElem.scrollTop-c<d||c-this.uiElem.scrollTop<d)&&(this.uiElem.scrollTop=c)}},g.prototype.pick=function(b){if(this.uiElem){var c=null;if(this.isHint(b))c=b;else if("number"==typeof b&&(b>=0||-1===b)){var d=this.uiElem.querySelectorAll("."+a.autoCompltHintClass);d.length>0&&(c=+b,c=-1===c||c>d.length-1?d.length-1:c,c=d[c])}null!==c&&(this.unpick(),c.className+=" "+a.autoCompltHintSelectedClass,c.style.color=this.styles.autoCompltHintSelected.color,c.style.backgroundColor=this.styles.autoCompltHintSelected.backgroundColor)}},g.prototype.unpick=function(){if(this.uiElem){var b=this.getPicked();b&&(b.className=a.autoCompltHintClass,b.style.color=this.styles.autoCompltHint.color,b.style.backgroundColor=this.styles.autoCompltHint.backgroundColor)}},g.prototype.getPicked=function(){return this.uiElem?this.uiElem.querySelector("."+a.autoCompltHintSelectedClass)||null:null};var h={enable:function(e,f){if(e&&"object"==typeof e&&"string"==typeof e.tagName&&"input"==e.tagName.toLowerCase()&&"text"==e.type&&1===e.nodeType&&!e.autoComplt){e.autoComplt={};var h=a.autoCompltDelay,i=!0,j="",k=null,l=null,m=new g(e),n=function(){if(e.value.length>0&&i&&"function"==typeof k&&j!==e.value){var a={that:e,compltTarget:j=e.value,compltTargetMatchCurrentTarget:function(){return a.compltTarget===j},call:function(){a.compltTargetMatchCurrentTarget()&&k.call(a.that,a.compltTarget,a.openHint)},openHint:function(b){a.compltTargetMatchCurrentTarget()&&(m.putHints(b)?m.open():a.that.autoComplt.close())}};setTimeout(a.call,h)}},o=function(){if(i){var a=m.getPicked();e.value=a?a.innerHTML:j}},p=function(){m.mouseOnList?(e.focus(),m.mouseOnList=!1):e.autoComplt.close(a.hiddenArg_close_list_n_make_final_selection)},q=function(c){if(c=b(c),i)if("keydown"!=c.type||!m.isOpen()||c.keyCode!==a.keyCode.up&&c.keyCode!==a.keyCode.down){if("keyup"==c.type){var d=!1;switch(c.keyCode){case a.keyCode.up:case a.keyCode.down:m.isOpen()||(d=!0);break;case a.keyCode.esc:m.isOpen()&&(e.value=j,e.autoComplt.close(a.hiddenArg_close_list_n_make_final_selection));break;case a.keyCode.enter:m.isOpen()&&(o(),e.autoComplt.close(a.hiddenArg_close_list_n_make_final_selection));break;default:d=!0}d&&(e.value.length>0?n():e.autoComplt.close())}}else{var f=m.getPicked();c.keyCode===a.keyCode.up?f?f.previousSibling?m.pick(f.previousSibling):m.unpick():m.pick(-1):c.keyCode===a.keyCode.down&&(f?f.nextSibling?m.pick(f.nextSibling):m.unpick():m.pick(0)),m.autoScroll(),o()}},r=function(a){null!=l&&"function"==typeof l[a]&&l[a].call(e)};return e.autoComplt.setHintsFetcher=function(a){return null===a||"function"==typeof a?(k=a,!0):!1},e.autoComplt.setListener=function(b,c){return(null===c||"function"==typeof c)&&a.listenersSupported.indexOf(b)>=0?(null==l&&(l={}),l[b]=c,!0):!1},e.autoComplt.setStyles=function(b,c){var d,e,f=!1;switch(b){case a.autoCompltListClass:d=m.styles.autoCompltList,e=a.adjStyleAttrs.autoCompltList;break;case a.autoCompltHintClass:d=m.styles.autoCompltHint,e=a.adjStyleAttrs.autoCompltHint;break;case a.autoCompltHintSelectedClass:d=m.styles.autoCompltHintSelected,e=a.adjStyleAttrs.autoCompltHintSelected}if(c instanceof Object&&d&&e)for(var g=0;g<e.length;g++)("string"==typeof c[e[g]]||"number"==typeof c[e[g]])&&(f||(f={}),f[e[g]]=d[e[g]]=c[e[g]]);return f},e.autoComplt.config=function(a){var b=!1;if(a instanceof Object){var c;void 0!==a.delay&&(c=Math.floor(a.delay))>0&&(b||(b={}),h=b.delay=c),void 0!==a.maxHintNum&&(c=Math.floor(a.maxHintNum))>0&&(b||(b={}),m.maxHintNum=b.maxHintNum=c)}return b},e.autoComplt.close=function(){j="",m.close(),i&&""!==e.value&&arguments[0]===a.hiddenArg_close_list_n_make_final_selection&&r("select")},e.autoComplt.enable=function(){i=!0},e.autoComplt.disable=function(){i=!1,this.close()},e.autoComplt.destroy=function(){d(e,"blur",p),d(e,"keyup",q),d(e,"keydown",q),this.disable(),delete e.autoComplt},m.onMouseSelectionListener=function(){o(),e.autoComplt.close(a.hiddenArg_close_list_n_make_final_selection)},c(e,"blur",p),c(e,"keyup",q),c(e,"keydown",q),f instanceof Object&&(e.autoComplt.config(f),e.autoComplt.setHintsFetcher(f.hintsFetcher)),e}return null}};return h}(),autoComplt=function(){"use struct";Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){if(void 0===this||null===this)throw new TypeError('"this" is null or not defined');var c=this.length>>>0;for(b=+b||0,Math.abs(b)===1/0&&(b=0),0>b&&(b+=c,0>b&&(b=0));c>b;b++)if(this[b]===a)return b;return-1});var a={autoCompltListClass:"autoComplt-list",autoCompltHintClass:"autoComplt-hint",autoCompltHintSelectedClass:"autoComplt-hint-selected",maxHintNum:10,autoCompltDelay:250,hiddenArg_close_list_n_make_final_selection:"hiddenArg_close_list_n_make_final_selection",listStatus:{attr:"data-listStatus",open:"open"},keyCode:{up:38,down:40,esc:27,enter:13},defaultStyles:{autoCompltList:{maxHeight:"none",border:"1px solid #aaa",padding:"0",margin:"0",zIndex:99,overflowX:"hidden",overflowY:"auto",display:"none",position:"absolute",backgroundColor:"#fff"},autoCompltHint:{height:"1.5em",padding:"2px 6px 2px 10px",margin:"6px 0",overflow:"hidden",listStyleType:"none",color:"#000",backgroundColor:"#fff",cursor:"default",fontSize:"1em"},autoCompltHintSelected:{color:"#fff",backgroundColor:"#3399ff"}},adjStyleAttrs:{autoCompltList:["border","maxHeight","backgroundColor"],autoCompltHint:["height","padding","margin","color","backgroundColor","fontSize"],autoCompltHintSelected:["color","backgroundColor"]},listenersSupported:["select"]},b=function(a){return a=a||window.event,a.target=a.target||a.srcElement,a.stopBubble=function(){this.cancelBubble=!0,this.stopPropoagation&&this.stopPropoagation()},a.stopDefault=function(){return this.preventDefault&&this.preventDefault(),this.returnValue=!1,!1},a},c=function(a,b,c){a.addEventListener?a.addEventListener(b,c):a.attachEvent&&a.attachEvent("on"+b,c)},d=function(a,b,c){a.removeEventListener?a.removeEventListener(b,c):a.detachEvent&&a.detachEvent("on"+b,c)},e=function(a,b){var c=null;if(window.getComputedStyle)c=window.getComputedStyle(a)[b]||null;else if(a.currentStyle){c=a.currentStyle&&a.currentStyle[b];var d,e,f=a.style;null==c&&f&&f[b]&&(c=f[b]),d=f.left,e=a.runtimeStyle&&a.runtimeStyle.left,e&&(a.runtimeStyle.left=a.currentStyle.left),f.left="fontSize"===b?"1em":c,c=f.pixelLeft+"px",f.left=d,e&&(a.runtimeStyle.left=e)}return c},f={buildElem:function(a){var b=document.createElement("DIV");return b.innerHTML=a,b.firstChild.cloneNode(!0)},buildHint:function(b,c){return"string"==typeof b&&b?(b=this.buildElem('<li class="'+a.autoCompltHintClass+'">'+b+"</li>"),b.style.height=b.style.lineHeight=c.autoCompltHint.height,b.style.padding=c.autoCompltHint.padding,b.style.margin=c.autoCompltHint.margin,b.style.overflow=c.autoCompltHint.overflow,b.style.listStyleType=c.autoCompltHint.listStyleType,b.style.color=c.autoCompltHint.color,b.style.backgroundColor=c.autoCompltHint.backgroundColor,b.style.cursor=c.autoCompltHint.cursor,b.style.fontSize=c.autoCompltHint.fontSize,b):null},buildList:function(b){var c=this.buildElem('<ul class="'+a.autoCompltListClass+'"></ul>');return c.style.maxHeight=b.autoCompltList.maxHeight,c.style.border=b.autoCompltList.border,c.style.padding=b.autoCompltList.padding,c.style.margin=b.autoCompltList.margin,c.style.zIndex=b.autoCompltList.zIndex,c.style.overflowX=b.autoCompltList.overflowX,c.style.overflowY=b.autoCompltList.overflowY,c.style.display=b.autoCompltList.display,c.style.position=b.autoCompltList.position,c.style.backgroundColor=b.autoCompltList.backgroundColor,c}},g=function(b){this.uiElem=null,this.assocInput=b,this.mouseOnList=!1,this.onMouseSelectionListener=null,this.maxHintNum=a.maxHintNum,this.styles=JSON.parse(JSON.stringify(a.defaultStyles))};g.prototype.genList=function(){if(!this.uiElem){var a=this;this.uiElem=f.buildList(this.styles),c(this.uiElem,"mouseover",function(c){c=b(c),a.isHint(c.target)&&(a.pick(c.target),a.autoScroll())}),c(this.uiElem,"mouseout",function(){a.unpick()}),c(this.uiElem,"mousedown",function(){a.mouseOnList=!0,setTimeout(function(){a.assocInput.focus()},50)}),c(this.uiElem,"mouseup",function(c){c=b(c),a.isHint(c.target)&&(a.pick(c.target),"function"==typeof a.onMouseSelectionListener&&a.onMouseSelectionListener())}),document.body.appendChild(this.uiElem)}},g.prototype.isHint=function(b){if(b&&"object"==typeof b&&1===b.nodeType){var c=" "+b.className+" ";return c.indexOf(" "+a.autoCompltHintClass+" ")>=0}return!1},g.prototype.putHints=function(a){var b=0;if(a instanceof Array){var c,d,e=[];for(d=Math.min(a.length,this.maxHintNum),c=0;d>c;c++)e.push(f.buildHint(a[c],this.styles)),e[e.length-1]||e.pop();if(e.length>0){var g=document.createDocumentFragment();for(c=0,b=e.length;b>c;c++)g.appendChild(e[c]);this.clearHints(),this.genList(),this.uiElem.appendChild(g)}}return b},g.prototype.clearHints=function(){this.uiElem&&(this.uiElem.innerHTML="")},g.prototype.isOpen=function(){return this.uiElem?this.uiElem.getAttribute(a.listStatus.attr)==a.listStatus.open:!1},g.prototype.open=function(){var b;if(this.uiElem&&(b=this.uiElem.querySelectorAll("."+a.autoCompltHintClass))&&b.length){var c,d;for(d=this.assocInput.getBoundingClientRect(),this.uiElem.style.top=(document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop)+d.bottom+"px",this.uiElem.style.left=d.left+"px",d=d.right-d.left-parseFloat(e(this.uiElem,"borderLeftWidth"))-parseFloat(e(this.uiElem,"borderRightWidth")),this.uiElem.style.width=d+"px",c=0,d=0;c<b.length;c++)d+=parseFloat(e(b[c],"height"))+parseFloat(e(b[c],"paddingTop"))+parseFloat(e(b[c],"paddingBottom")),b[c+1]&&(d+=Math.max(parseFloat(e(b[c],"marginBottom")),parseFloat(e(b[c+1],"marginTop"))));d+=parseFloat(e(b[0],"marginTop"))+parseFloat(e(b[b.length-1],"marginBottom")),this.uiElem.style.height=d+1+"px",this.uiElem.setAttribute(a.listStatus.attr,a.listStatus.open),this.uiElem.style.display="block"}},g.prototype.close=function(){this.uiElem&&(this.mouseOnList=!1,this.uiElem.parentNode.removeChild(this.uiElem),this.uiElem=null)},g.prototype.autoScroll=function(){var a=this.getPicked();if(a){var b,c=0,d=0,f=a.clientHeight,g=parseFloat(e(a,"marginTop")),h=parseFloat(e(a,"marginBottom"));for(b=a.previousSibling,d=f+(b?Math.max(g,h):g);b;)c+=f,b=b.previousSibling,c+=b?Math.max(g,h):g;(this.uiElem.clientHeight+this.uiElem.scrollTop-c<d||c-this.uiElem.scrollTop<d)&&(this.uiElem.scrollTop=c)}},g.prototype.pick=function(b){if(this.uiElem){var c=null;if(this.isHint(b))c=b;else if("number"==typeof b&&(b>=0||-1===b)){var d=this.uiElem.querySelectorAll("."+a.autoCompltHintClass);d.length>0&&(c=+b,c=-1===c||c>d.length-1?d.length-1:c,c=d[c])}null!==c&&(this.unpick(),c.className+=" "+a.autoCompltHintSelectedClass,c.style.color=this.styles.autoCompltHintSelected.color,c.style.backgroundColor=this.styles.autoCompltHintSelected.backgroundColor)}},g.prototype.unpick=function(){if(this.uiElem){var b=this.getPicked();b&&(b.className=a.autoCompltHintClass,b.style.color=this.styles.autoCompltHint.color,b.style.backgroundColor=this.styles.autoCompltHint.backgroundColor)}},g.prototype.getPicked=function(){return this.uiElem?this.uiElem.querySelector("."+a.autoCompltHintSelectedClass)||null:null};var h={enable:function(e,f){if(e&&"object"==typeof e&&"string"==typeof e.tagName&&"input"==e.tagName.toLowerCase()&&"text"==e.type&&1===e.nodeType&&!e.autoComplt){e.autoComplt={};var h=a.autoCompltDelay,i=!0,j="",k=null,l=null,m=new g(e),n=function(){if(e.value.length>0&&i&&"function"==typeof k&&j!==e.value){var a={that:e,compltTarget:j=e.value,compltTargetMatchCurrentTarget:function(){return a.compltTarget===j},call:function(){a.compltTargetMatchCurrentTarget()&&k.call(a.that,a.compltTarget,a.openHint)},openHint:function(b){a.compltTargetMatchCurrentTarget()&&(m.putHints(b)?m.open():a.that.autoComplt.close())}};setTimeout(a.call,h)}},o=function(){if(i){var a=m.getPicked();e.value=a?a.innerHTML:j}},p=function(){m.mouseOnList?(e.focus(),m.mouseOnList=!1):e.autoComplt.close(a.hiddenArg_close_list_n_make_final_selection)},q=function(c){if(c=b(c),i)if("keydown"!=c.type||!m.isOpen()||c.keyCode!==a.keyCode.up&&c.keyCode!==a.keyCode.down){if("keyup"==c.type){var d=!1;switch(c.keyCode){case a.keyCode.up:case a.keyCode.down:m.isOpen()||(d=!0);break;case a.keyCode.esc:m.isOpen()&&(e.value=j,e.autoComplt.close(a.hiddenArg_close_list_n_make_final_selection));break;case a.keyCode.enter:m.isOpen()&&(o(),e.autoComplt.close(a.hiddenArg_close_list_n_make_final_selection));break;default:d=!0}d&&(e.value.length>0?n():e.autoComplt.close())}}else{var f=m.getPicked();c.keyCode===a.keyCode.up?f?f.previousSibling?m.pick(f.previousSibling):m.unpick():m.pick(-1):c.keyCode===a.keyCode.down&&(f?f.nextSibling?m.pick(f.nextSibling):m.unpick():m.pick(0)),m.autoScroll(),o()}},r=function(a){null!=l&&"function"==typeof l[a]&&l[a].call(e)};return e.autoComplt.setHintsFetcher=function(a){return null===a||"function"==typeof a?(k=a,!0):!1},e.autoComplt.setListener=function(b,c){return(null===c||"function"==typeof c)&&a.listenersSupported.indexOf(b)>=0?(null==l&&(l={}),l[b]=c,!0):!1},e.autoComplt.setStyles=function(b,c){var d,e,f=!1;switch(b){case a.autoCompltListClass:d=m.styles.autoCompltList,e=a.adjStyleAttrs.autoCompltList;break;case a.autoCompltHintClass:d=m.styles.autoCompltHint,e=a.adjStyleAttrs.autoCompltHint;break;case a.autoCompltHintSelectedClass:d=m.styles.autoCompltHintSelected,e=a.adjStyleAttrs.autoCompltHintSelected}if(c instanceof Object&&d&&e)for(var g=0;g<e.length;g++)("string"==typeof c[e[g]]||"number"==typeof c[e[g]])&&(f||(f={}),f[e[g]]=d[e[g]]=c[e[g]]);return f},e.autoComplt.config=function(a){var b=!1;if(a instanceof Object){var c;void 0!==a.delay&&(c=Math.floor(a.delay))>0&&(b||(b={}),h=b.delay=c),void 0!==a.maxHintNum&&(c=Math.floor(a.maxHintNum))>0&&(b||(b={}),m.maxHintNum=b.maxHintNum=c)}return b},e.autoComplt.close=function(){j="",m.close(),i&&""!==e.value&&arguments[0]===a.hiddenArg_close_list_n_make_final_selection&&r("select")},e.autoComplt.enable=function(){i=!0},e.autoComplt.disable=function(){i=!1,this.close()},e.autoComplt.destroy=function(){d(e,"blur",p),d(e,"keyup",q),d(e,"keydown",q),this.disable(),delete e.autoComplt},m.onMouseSelectionListener=function(){o(),e.autoComplt.close(a.hiddenArg_close_list_n_make_final_selection)},c(e,"blur",p),c(e,"keyup",q),c(e,"keydown",q),f instanceof Object&&(e.autoComplt.config(f),e.autoComplt.setHintsFetcher(f.hintsFetcher)),e}return null}};return h}(),autoComplt=function(){Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){if(void 0===this||null===this)throw new TypeError('"this" is null or not defined');var c=this.length>>>0;for(b=+b||0,Math.abs(b)===1/0&&(b=0),0>b&&(b+=c,0>b&&(b=0));c>b;b++)if(this[b]===a)return b;return-1});var a={autoCompltListClass:"autoComplt-list",autoCompltHintClass:"autoComplt-hint",autoCompltHintSelectedClass:"autoComplt-hint-selected",maxHintNum:10,autoCompltDelay:250,hiddenArg_close_list_n_make_final_selection:"hiddenArg_close_list_n_make_final_selection",listStatus:{attr:"data-listStatus",open:"open"},keyCode:{up:38,down:40,esc:27,enter:13},defaultStyles:{autoCompltList:{maxHeight:"none",border:"1px solid #aaa",padding:"0",margin:"0",zIndex:99,overflowX:"hidden",overflowY:"auto",display:"none",position:"absolute",backgroundColor:"#fff"},autoCompltHint:{height:"1.5em",padding:"2px 6px 2px 10px",margin:"6px 0",overflow:"hidden",listStyleType:"none",color:"#000",backgroundColor:"#fff",cursor:"default",fontSize:"1em"},autoCompltHintSelected:{color:"#fff",backgroundColor:"#3399ff"}},adjStyleAttrs:{autoCompltList:["border","maxHeight","backgroundColor"],autoCompltHint:["height","padding","margin","color","backgroundColor","fontSize"],autoCompltHintSelected:["color","backgroundColor"]},listenersSupported:["select"]},b=function(a){return a=a||window.event,a.target=a.target||a.srcElement,a.stopBubble=function(){this.cancelBubble=!0,this.stopPropoagation&&this.stopPropoagation()},a.stopDefault=function(){return this.preventDefault&&this.preventDefault(),this.returnValue=!1,!1},a},c=function(a,b,c){a.addEventListener?a.addEventListener(b,c):a.attachEvent&&a.attachEvent("on"+b,c)},d=function(a,b,c){a.removeEventListener?a.removeEventListener(b,c):a.detachEvent&&a.detachEvent("on"+b,c)},e=function(a,b){var c=null;if(window.getComputedStyle)c=window.getComputedStyle(a)[b]||null;else if(a.currentStyle){c=a.currentStyle&&a.currentStyle[b];var d,e,f=a.style;null==c&&f&&f[b]&&(c=f[b]),d=f.left,e=a.runtimeStyle&&a.runtimeStyle.left,e&&(a.runtimeStyle.left=a.currentStyle.left),f.left="fontSize"===b?"1em":c,
c=f.pixelLeft+"px",f.left=d,e&&(a.runtimeStyle.left=e)}return c},f={buildElem:function(a){var b=document.createElement("DIV");return b.innerHTML=a,b.firstChild.cloneNode(!0)},buildHint:function(b,c){return"string"==typeof b&&b?(b=this.buildElem('<li class="'+a.autoCompltHintClass+'">'+b+"</li>"),b.style.height=b.style.lineHeight=c.autoCompltHint.height,b.style.padding=c.autoCompltHint.padding,b.style.margin=c.autoCompltHint.margin,b.style.overflow=c.autoCompltHint.overflow,b.style.listStyleType=c.autoCompltHint.listStyleType,b.style.color=c.autoCompltHint.color,b.style.backgroundColor=c.autoCompltHint.backgroundColor,b.style.cursor=c.autoCompltHint.cursor,b.style.fontSize=c.autoCompltHint.fontSize,b):null},buildList:function(b){var c=this.buildElem('<ul class="'+a.autoCompltListClass+'"></ul>');return c.style.maxHeight=b.autoCompltList.maxHeight,c.style.border=b.autoCompltList.border,c.style.padding=b.autoCompltList.padding,c.style.margin=b.autoCompltList.margin,c.style.zIndex=b.autoCompltList.zIndex,c.style.overflowX=b.autoCompltList.overflowX,c.style.overflowY=b.autoCompltList.overflowY,c.style.display=b.autoCompltList.display,c.style.position=b.autoCompltList.position,c.style.backgroundColor=b.autoCompltList.backgroundColor,c}},g=function(b){this.uiElem=null,this.assocInput=b,this.mouseOnList=!1,this.onMouseSelectionListener=null,this.maxHintNum=a.maxHintNum,this.styles=JSON.parse(JSON.stringify(a.defaultStyles))};g.prototype.genList=function(){if(!this.uiElem){var a=this;this.uiElem=f.buildList(this.styles),c(this.uiElem,"mouseover",function(c){c=b(c),a.isHint(c.target)&&(a.pick(c.target),a.autoScroll())}),c(this.uiElem,"mouseout",function(){a.unpick()}),c(this.uiElem,"mousedown",function(){a.mouseOnList=!0,setTimeout(function(){a.assocInput.focus()},50)}),c(this.uiElem,"mouseup",function(c){c=b(c),a.isHint(c.target)&&(a.pick(c.target),"function"==typeof a.onMouseSelectionListener&&a.onMouseSelectionListener())}),document.body.appendChild(this.uiElem)}},g.prototype.isHint=function(b){if(b&&"object"==typeof b&&1===b.nodeType){var c=" "+b.className+" ";return c.indexOf(" "+a.autoCompltHintClass+" ")>=0}return!1},g.prototype.putHints=function(a){var b=0;if(a instanceof Array){var c,d,e=[];for(d=Math.min(a.length,this.maxHintNum),c=0;d>c;c++)e.push(f.buildHint(a[c],this.styles)),e[e.length-1]||e.pop();if(e.length>0){var g=document.createDocumentFragment();for(c=0,b=e.length;b>c;c++)g.appendChild(e[c]);this.clearHints(),this.genList(),this.uiElem.appendChild(g)}}return b},g.prototype.clearHints=function(){this.uiElem&&(this.uiElem.innerHTML="")},g.prototype.isOpen=function(){return this.uiElem?this.uiElem.getAttribute(a.listStatus.attr)==a.listStatus.open:!1},g.prototype.open=function(){var b;if(this.uiElem&&(b=this.uiElem.querySelectorAll("."+a.autoCompltHintClass))&&b.length){var c,d;for(d=this.assocInput.getBoundingClientRect(),this.uiElem.style.top=(document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop)+d.bottom+"px",this.uiElem.style.left=d.left+"px",d=d.right-d.left-parseFloat(e(this.uiElem,"borderLeftWidth"))-parseFloat(e(this.uiElem,"borderRightWidth")),this.uiElem.style.width=d+"px",c=0,d=0;c<b.length;c++)d+=parseFloat(e(b[c],"height"))+parseFloat(e(b[c],"paddingTop"))+parseFloat(e(b[c],"paddingBottom")),b[c+1]&&(d+=Math.max(parseFloat(e(b[c],"marginBottom")),parseFloat(e(b[c+1],"marginTop"))));d+=parseFloat(e(b[0],"marginTop"))+parseFloat(e(b[b.length-1],"marginBottom")),this.uiElem.style.height=d+1+"px",this.uiElem.setAttribute(a.listStatus.attr,a.listStatus.open),this.uiElem.style.display="block"}},g.prototype.close=function(){this.uiElem&&(this.mouseOnList=!1,this.uiElem.parentNode.removeChild(this.uiElem),this.uiElem=null)},g.prototype.autoScroll=function(){var a=this.getPicked();if(a){var b,c=0,d=0,f=a.clientHeight,g=parseFloat(e(a,"marginTop")),h=parseFloat(e(a,"marginBottom"));for(b=a.previousSibling,d=f+(b?Math.max(g,h):g);b;)c+=f,b=b.previousSibling,c+=b?Math.max(g,h):g;(this.uiElem.clientHeight+this.uiElem.scrollTop-c<d||c-this.uiElem.scrollTop<d)&&(this.uiElem.scrollTop=c)}},g.prototype.pick=function(b){if(this.uiElem){var c=null;if(this.isHint(b))c=b;else if("number"==typeof b&&(b>=0||-1===b)){var d=this.uiElem.querySelectorAll("."+a.autoCompltHintClass);d.length>0&&(c=+b,c=-1===c||c>d.length-1?d.length-1:c,c=d[c])}null!==c&&(this.unpick(),c.className+=" "+a.autoCompltHintSelectedClass,c.style.color=this.styles.autoCompltHintSelected.color,c.style.backgroundColor=this.styles.autoCompltHintSelected.backgroundColor)}},g.prototype.unpick=function(){if(this.uiElem){var b=this.getPicked();b&&(b.className=a.autoCompltHintClass,b.style.color=this.styles.autoCompltHint.color,b.style.backgroundColor=this.styles.autoCompltHint.backgroundColor)}},g.prototype.getPicked=function(){return this.uiElem?this.uiElem.querySelector("."+a.autoCompltHintSelectedClass)||null:null};var h={enable:function(e,f){if(e&&"object"==typeof e&&"string"==typeof e.tagName&&"input"==e.tagName.toLowerCase()&&"text"==e.type&&1===e.nodeType&&!e.autoComplt){e.autoComplt={};var h=a.autoCompltDelay,i=!0,j="",k=null,l=null,m=new g(e),n=function(){if(e.value.length>0&&i&&"function"==typeof k&&j!==e.value){var a={that:e,compltTarget:j=e.value,compltTargetMatchCurrentTarget:function(){return a.compltTarget===j},call:function(){a.compltTargetMatchCurrentTarget()&&k.call(a.that,a.compltTarget,a.openHint)},openHint:function(b){a.compltTargetMatchCurrentTarget()&&(m.putHints(b)?m.open():a.that.autoComplt.close())}};setTimeout(a.call,h)}},o=function(){if(i){var a=m.getPicked();e.value=a?a.innerHTML:j}},p=function(){m.mouseOnList?(e.focus(),m.mouseOnList=!1):e.autoComplt.close(a.hiddenArg_close_list_n_make_final_selection)},q=function(c){if(c=b(c),i)if("keydown"!=c.type||!m.isOpen()||c.keyCode!==a.keyCode.up&&c.keyCode!==a.keyCode.down){if("keyup"==c.type){var d=!1;switch(c.keyCode){case a.keyCode.up:case a.keyCode.down:m.isOpen()||(d=!0);break;case a.keyCode.esc:m.isOpen()&&(e.value=j,e.autoComplt.close(a.hiddenArg_close_list_n_make_final_selection));break;case a.keyCode.enter:m.isOpen()&&(o(),e.autoComplt.close(a.hiddenArg_close_list_n_make_final_selection));break;default:d=!0}d&&(e.value.length>0?n():e.autoComplt.close())}}else{var f=m.getPicked();c.keyCode===a.keyCode.up?f?f.previousSibling?m.pick(f.previousSibling):m.unpick():m.pick(-1):c.keyCode===a.keyCode.down&&(f?f.nextSibling?m.pick(f.nextSibling):m.unpick():m.pick(0)),m.autoScroll(),o()}},r=function(a){null!=l&&"function"==typeof l[a]&&l[a].call(e)};return e.autoComplt.setHintsFetcher=function(a){return null===a||"function"==typeof a?(k=a,!0):!1},e.autoComplt.setListener=function(b,c){return(null===c||"function"==typeof c)&&a.listenersSupported.indexOf(b)>=0?(null==l&&(l={}),l[b]=c,!0):!1},e.autoComplt.setStyles=function(b,c){var d,e,f=!1;switch(b){case a.autoCompltListClass:d=m.styles.autoCompltList,e=a.adjStyleAttrs.autoCompltList;break;case a.autoCompltHintClass:d=m.styles.autoCompltHint,e=a.adjStyleAttrs.autoCompltHint;break;case a.autoCompltHintSelectedClass:d=m.styles.autoCompltHintSelected,e=a.adjStyleAttrs.autoCompltHintSelected}if(c instanceof Object&&d&&e)for(var g=0;g<e.length;g++)("string"==typeof c[e[g]]||"number"==typeof c[e[g]])&&(f||(f={}),f[e[g]]=d[e[g]]=c[e[g]]);return f},e.autoComplt.config=function(a){var b=!1;if(a instanceof Object){var c;void 0!==a.delay&&(c=Math.floor(a.delay))>0&&(b||(b={}),h=b.delay=c),void 0!==a.maxHintNum&&(c=Math.floor(a.maxHintNum))>0&&(b||(b={}),m.maxHintNum=b.maxHintNum=c)}return b},e.autoComplt.close=function(){j="",m.close(),i&&""!==e.value&&arguments[0]===a.hiddenArg_close_list_n_make_final_selection&&r("select")},e.autoComplt.enable=function(){i=!0},e.autoComplt.disable=function(){i=!1,this.close()},e.autoComplt.destroy=function(){d(e,"blur",p),d(e,"keyup",q),d(e,"keydown",q),this.disable(),delete e.autoComplt},m.onMouseSelectionListener=function(){o(),e.autoComplt.close(a.hiddenArg_close_list_n_make_final_selection)},c(e,"blur",p),c(e,"keyup",q),c(e,"keydown",q),f instanceof Object&&(e.autoComplt.config(f),e.autoComplt.setHintsFetcher(f.hintsFetcher)),e}return null}};return h}();