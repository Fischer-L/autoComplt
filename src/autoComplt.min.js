var autoComplt=function(){"use strict";Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){if(void 0===this||null===this)throw new TypeError('"this" is null or not defined');var c=this.length>>>0;for(b=+b||0,Math.abs(b)===1/0&&(b=0),0>b&&(b+=c,0>b&&(b=0));c>b;b++)if(this[b]===a)return b;return-1});var a=function(){var a=-1;if("Microsoft Internet Explorer"==navigator.appName){var b=navigator.userAgent,c=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!=c.exec(b)&&(a=+RegExp.$1)}return-1===a?0/0:a},b=function(){var b=window.navigator.userAgent.toLowerCase();return b.search(/mobile|windows phone/)>=0?d.modeMobile:a()<=9?d.modePC:c().windowWidth>d.modeMobileW?d.modePC:d.modeMobile},c=function(){return window.innerWidth?{windowWidth:window.innerWidth,windowHeight:window.innerHeight}:document.documentElement.offsetHeight?{windowWidth:document.documentElement.offsetWidth,windowHeight:document.documentElement.offsetHeight}:document.body.offsetHeight?{windowWidth:document.body.offsetWidth,windowHeight:document.body.offsetHeight}:document.documentElement.clientHeight?{windowWidth:document.documentElement.clientWidth,windowHeight:document.documentElement.clientHeight}:document.body.clientHeight?{windowWidth:document.body.clientWidth,windowHeight:document.body.clientHeight}:{windowWidth:-1,windowHeight:-1}},d=function(a){return d=a,a.modePC="modePC",a.modeMobile="modeMobile",a.modeMobileW=768,a.autoCompltListClass="autoComplt-list",a.autoCompltHintClass="autoComplt-hint",a.autoCompltHintSelectedClass="autoComplt-hint-selected",a.maxHintNum=b()===d.modePC?10:5,a.autoCompltDelay=250,a.hiddenArg_close_list_n_make_final_selection="hiddenArg_close_list_n_make_final_selection",a.listStatus={attr:"data-listStatus",open:"open"},a.keyCode={up:38,down:40,esc:27,enter:13},a.defaultStyles={autoCompltList:{maxHeight:"none",border:"1px solid #aaa",padding:"0",margin:"0",zIndex:99,overflowX:"hidden",overflowY:"auto",display:"none",position:"absolute",backgroundColor:"#fff"},autoCompltHint:{height:"1.5em",padding:b()===d.modePC?"2px 6px 2px 10px":"6px 6px 6px 10px",margin:"6px 0",overflow:"hidden",listStyleType:"none",color:"#000",backgroundColor:"#fff",cursor:"default",fontSize:"1em"},autoCompltHintSelected:{color:"#fff",backgroundColor:"#3399ff"}},a.adjStyleAttrs={autoCompltList:["border","maxHeight","backgroundColor"],autoCompltHint:["height","padding","margin","color","backgroundColor","fontSize"],autoCompltHintSelected:["color","backgroundColor"]},a.listenersSupported=["select"],d}({}),e=function(a){return a||(a=window.event),a.target||(a.target=a.srcElement),a.stopBubble=function(){this.cancelBubble=!0,this.stopPropoagation&&this.stopPropoagation()},a.stopDefault=function(){return this.preventDefault&&this.preventDefault(),this.returnValue=!1,!1},a},f=function(a,b,c){a.addEventListener?a.addEventListener(b,c):a.attachEvent&&a.attachEvent("on"+b,c)},g=function(a,b,c){a.removeEventListener?a.removeEventListener(b,c):a.detachEvent&&a.detachEvent("on"+b,c)},h=function(a,b){var c=null;if(window.getComputedStyle)c=window.getComputedStyle(a)[b]||null;else if(a.currentStyle){c=a.currentStyle&&a.currentStyle[b];var d,e,f=a.style;null==c&&f&&f[b]&&(c=f[b]),d=f.left,e=a.runtimeStyle&&a.runtimeStyle.left,e&&(a.runtimeStyle.left=a.currentStyle.left),f.left="fontSize"===b?"1em":c,c=f.pixelLeft+"px",f.left=d,e&&(a.runtimeStyle.left=e)}return c},i={buildElem:function(a){var b=document.createElement("DIV");return b.innerHTML=a,b.firstChild.cloneNode(!0)},buildHint:function(a,b){return"string"==typeof a&&a?(a=this.buildElem('<li class="'+d.autoCompltHintClass+'">'+a+"</li>"),a.style.height=a.style.lineHeight=b.autoCompltHint.height,a.style.padding=b.autoCompltHint.padding,a.style.margin=b.autoCompltHint.margin,a.style.overflow=b.autoCompltHint.overflow,a.style.listStyleType=b.autoCompltHint.listStyleType,a.style.color=b.autoCompltHint.color,a.style.backgroundColor=b.autoCompltHint.backgroundColor,a.style.cursor=b.autoCompltHint.cursor,a.style.fontSize=b.autoCompltHint.fontSize,a):null},buildList:function(a){var b=this.buildElem('<ul class="'+d.autoCompltListClass+'"></ul>');return b.style.maxHeight=a.autoCompltList.maxHeight,b.style.border=a.autoCompltList.border,b.style.padding=a.autoCompltList.padding,b.style.margin=a.autoCompltList.margin,b.style.zIndex=a.autoCompltList.zIndex,b.style.overflowX=a.autoCompltList.overflowX,b.style.overflowY=a.autoCompltList.overflowY,b.style.display=a.autoCompltList.display,b.style.position=a.autoCompltList.position,b.style.backgroundColor=a.autoCompltList.backgroundColor,b}},j=function(a){this.uiElem=null,this.assocInput=a,this.mouseOnList=!1,this.onMouseSelectionListener=null,this.maxHintNum=d.maxHintNum,this.styles=JSON.parse(JSON.stringify(d.defaultStyles))};j.prototype.genList=function(){if(!this.uiElem){var a=this;this.uiElem=i.buildList(this.styles),f(this.uiElem,"mouseover",function(b){b=e(b),a.isHint(b.target)&&(a.pick(b.target),a.autoScroll())}),f(this.uiElem,"mouseout",function(){a.unpick()}),f(this.uiElem,"mousedown",function(){a.mouseOnList=!0,setTimeout(function(){a.assocInput.focus()},50)}),f(this.uiElem,"mouseup",function(b){b=e(b),a.isHint(b.target)&&(a.pick(b.target),"function"==typeof a.onMouseSelectionListener&&a.onMouseSelectionListener())}),document.body.appendChild(this.uiElem)}},j.prototype.isHint=function(a){if(a&&"object"==typeof a&&1===a.nodeType){var b=" "+a.className+" ";return b.indexOf(" "+d.autoCompltHintClass+" ")>=0}return!1},j.prototype.putHints=function(a){var b=0;if(a instanceof Array){var c,d,e=[];for(d=Math.min(a.length,this.maxHintNum),c=0;d>c;c++)e.push(i.buildHint(a[c],this.styles)),e[e.length-1]||e.pop();if(e.length>0){var f=document.createDocumentFragment();for(c=0,b=e.length;b>c;c++)f.appendChild(e[c]);this.clearHints(),this.genList(),this.uiElem.appendChild(f)}}return b},j.prototype.clearHints=function(){this.uiElem&&(this.uiElem.innerHTML="")},j.prototype.isOpen=function(){return this.uiElem?this.uiElem.getAttribute(d.listStatus.attr)==d.listStatus.open:!1},j.prototype.open=function(){var a;if(this.uiElem&&(a=this.uiElem.querySelectorAll("."+d.autoCompltHintClass))&&a.length){var b,c;for(c=this.assocInput.getBoundingClientRect(),this.uiElem.style.top=(document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop)+c.bottom+"px",this.uiElem.style.left=c.left+"px",c=c.right-c.left-parseFloat(h(this.uiElem,"borderLeftWidth"))-parseFloat(h(this.uiElem,"borderRightWidth")),this.uiElem.style.width=c+"px",b=0,c=0;b<a.length;b++)c+=parseFloat(h(a[b],"height"))+parseFloat(h(a[b],"paddingTop"))+parseFloat(h(a[b],"paddingBottom")),a[b+1]&&(c+=Math.max(parseFloat(h(a[b],"marginBottom")),parseFloat(h(a[b+1],"marginTop"))));c+=parseFloat(h(a[0],"marginTop"))+parseFloat(h(a[a.length-1],"marginBottom")),this.uiElem.style.height=c+1+"px",this.uiElem.setAttribute(d.listStatus.attr,d.listStatus.open),this.uiElem.style.display="block"}},j.prototype.close=function(){this.uiElem&&(this.mouseOnList=!1,this.uiElem.parentNode.removeChild(this.uiElem),this.uiElem=null)},j.prototype.autoScroll=function(){var a=this.getPicked();if(a){var b,c=0,d=0,e=a.clientHeight,f=parseFloat(h(a,"marginTop")),g=parseFloat(h(a,"marginBottom"));for(b=a.previousSibling,d=e+(b?Math.max(f,g):f);b;)c+=e,b=b.previousSibling,c+=b?Math.max(f,g):f;(this.uiElem.clientHeight+this.uiElem.scrollTop-c<d||c-this.uiElem.scrollTop<d)&&(this.uiElem.scrollTop=c)}},j.prototype.pick=function(a){if(this.uiElem){var b=null;if(this.isHint(a))b=a;else if("number"==typeof a&&(a>=0||-1===a)){var c=this.uiElem.querySelectorAll("."+d.autoCompltHintClass);c.length>0&&(b=+a,b=-1===b||b>c.length-1?c.length-1:b,b=c[b])}null!==b&&(this.unpick(),b.className+=" "+d.autoCompltHintSelectedClass,b.style.color=this.styles.autoCompltHintSelected.color,b.style.backgroundColor=this.styles.autoCompltHintSelected.backgroundColor)}},j.prototype.unpick=function(){if(this.uiElem){var a=this.getPicked();a&&(a.className=d.autoCompltHintClass,a.style.color=this.styles.autoCompltHint.color,a.style.backgroundColor=this.styles.autoCompltHint.backgroundColor)}},j.prototype.getPicked=function(){return this.uiElem?this.uiElem.querySelector("."+d.autoCompltHintSelectedClass)||null:null};var k={enable:function(a,c){if(a&&"object"==typeof a&&"string"==typeof a.tagName&&"input"==a.tagName.toLowerCase()&&"text"==a.type&&1===a.nodeType&&!a.autoComplt){a.autoComplt={};var h=d.autoCompltDelay,i=!0,k="",l=null,m=null,n=new j(a),o=function(){if(a.value.length>0&&i&&"function"==typeof l&&k!==a.value){var b={that:a,compltTarget:k=a.value,compltTargetMatchCurrentTarget:function(){return b.compltTarget===k},call:function(){b.compltTargetMatchCurrentTarget()&&l.call(b.that,b.compltTarget,b.openHint)},openHint:function(a){b.compltTargetMatchCurrentTarget()&&(n.putHints(a)?n.open():b.that.autoComplt.close())}};setTimeout(b.call,h)}},p=function(){if(i){var b=n.getPicked();a.value=b?b.innerHTML:k}},q=function(){n.mouseOnList?(a.focus(),n.mouseOnList=!1):n.isOpen()&&a.autoComplt.close(d.hiddenArg_close_list_n_make_final_selection)},r=function(c){if(b()!==d.modeMobile&&(c=e(c),i))if("keydown"!=c.type||!n.isOpen()||c.keyCode!==d.keyCode.up&&c.keyCode!==d.keyCode.down){if("keyup"==c.type){var f=!1;switch(c.keyCode){case d.keyCode.up:case d.keyCode.down:n.isOpen()||(f=!0);break;case d.keyCode.esc:n.isOpen()&&(a.value=k,a.autoComplt.close(d.hiddenArg_close_list_n_make_final_selection));break;case d.keyCode.enter:n.isOpen()&&(p(),a.autoComplt.close(d.hiddenArg_close_list_n_make_final_selection));break;default:f=!0}f&&(a.value.length>0?o():a.autoComplt.close())}}else{var g=n.getPicked();c.keyCode===d.keyCode.up?g?g.previousSibling?n.pick(g.previousSibling):n.unpick():n.pick(-1):c.keyCode===d.keyCode.down&&(g?g.nextSibling?n.pick(g.nextSibling):n.unpick():n.pick(0)),n.autoScroll(),p()}},s=function(){b()!==d.modePC&&(a.value.length>0?o():a.autoComplt.close())},t=function(b){null!=m&&"function"==typeof m[b]&&m[b].call(a)};return a.autoComplt.setHintsFetcher=function(a){return null===a||"function"==typeof a?(l=a,!0):!1},a.autoComplt.setListener=function(a,b){return(null===b||"function"==typeof b)&&d.listenersSupported.indexOf(a)>=0?(null==m&&(m={}),m[a]=b,!0):!1},a.autoComplt.setStyles=function(a,b){var c,e,f=!1;switch(a){case d.autoCompltListClass:c=n.styles.autoCompltList,e=d.adjStyleAttrs.autoCompltList;break;case d.autoCompltHintClass:c=n.styles.autoCompltHint,e=d.adjStyleAttrs.autoCompltHint;break;case d.autoCompltHintSelectedClass:c=n.styles.autoCompltHintSelected,e=d.adjStyleAttrs.autoCompltHintSelected}if(b instanceof Object&&c&&e)for(var g=0;g<e.length;g++)("string"==typeof b[e[g]]||"number"==typeof b[e[g]])&&(f||(f={}),f[e[g]]=c[e[g]]=b[e[g]]);return f},a.autoComplt.config=function(a){var b=!1;if(a instanceof Object){var c;void 0!==a.delay&&(c=Math.floor(a.delay))>0&&(b||(b={}),h=b.delay=c),void 0!==a.maxHintNum&&(c=Math.floor(a.maxHintNum))>0&&(b||(b={}),n.maxHintNum=b.maxHintNum=c)}return b},a.autoComplt.close=function(){k="",n.close(),i&&""!==a.value&&arguments[0]===d.hiddenArg_close_list_n_make_final_selection&&t("select")},a.autoComplt.enable=function(){i=!0},a.autoComplt.disable=function(){i=!1,this.close()},a.autoComplt.destroy=function(){g(a,"blur",q),g(a,"keyup",r),g(a,"keydown",r),this.disable(),delete a.autoComplt},n.onMouseSelectionListener=function(){p(),a.autoComplt.close(d.hiddenArg_close_list_n_make_final_selection)},f(a,"blur",q),f(a,"keyup",r),f(a,"keydown",r),f(a,"input",s),c instanceof Object&&(a.autoComplt.config(c),a.autoComplt.setHintsFetcher(c.hintsFetcher)),a}return null}};return k}(),autoComplt=function(){"use strict";Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){if(void 0===this||null===this)throw new TypeError('"this" is null or not defined');var c=this.length>>>0;for(b=+b||0,Math.abs(b)===1/0&&(b=0),0>b&&(b+=c,0>b&&(b=0));c>b;b++)if(this[b]===a)return b;return-1});var a={autoCompltListClass:"autoComplt-list",autoCompltHintClass:"autoComplt-hint",autoCompltHintSelectedClass:"autoComplt-hint-selected",maxHintNum:10,autoCompltDelay:250,hiddenArg_close_list_n_make_final_selection:"hiddenArg_close_list_n_make_final_selection",listStatus:{attr:"data-listStatus",open:"open"},keyCode:{up:38,down:40,esc:27,enter:13},defaultStyles:{autoCompltList:{maxHeight:"none",border:"1px solid #aaa",padding:"0",margin:"0",zIndex:99,overflowX:"hidden",overflowY:"auto",display:"none",position:"absolute",backgroundColor:"#fff"},autoCompltHint:{height:"1.5em",padding:"2px 6px 2px 10px",margin:"6px 0",overflow:"hidden",listStyleType:"none",color:"#000",backgroundColor:"#fff",cursor:"default",fontSize:"1em"},autoCompltHintSelected:{color:"#fff",backgroundColor:"#3399ff"}},adjStyleAttrs:{autoCompltList:["border","maxHeight","backgroundColor"],autoCompltHint:["height","padding","margin","color","backgroundColor","fontSize"],autoCompltHintSelected:["color","backgroundColor"]},listenersSupported:["select"]},b=function(a){return a||(a=window.event),a.target||(a.target=a.srcElement),a.stopBubble=function(){this.cancelBubble=!0,this.stopPropoagation&&this.stopPropoagation()},a.stopDefault=function(){return this.preventDefault&&this.preventDefault(),this.returnValue=!1,!1},a},c=function(a,b,c){a.addEventListener?a.addEventListener(b,c):a.attachEvent&&a.attachEvent("on"+b,c)},d=function(a,b,c){a.removeEventListener?a.removeEventListener(b,c):a.detachEvent&&a.detachEvent("on"+b,c)},e=function(a,b){var c=null;if(window.getComputedStyle)c=window.getComputedStyle(a)[b]||null;else if(a.currentStyle){c=a.currentStyle&&a.currentStyle[b];var d,e,f=a.style;null==c&&f&&f[b]&&(c=f[b]),d=f.left,e=a.runtimeStyle&&a.runtimeStyle.left,e&&(a.runtimeStyle.left=a.currentStyle.left),f.left="fontSize"===b?"1em":c,c=f.pixelLeft+"px",f.left=d,e&&(a.runtimeStyle.left=e)}return c},f={buildElem:function(a){var b=document.createElement("DIV");return b.innerHTML=a,b.firstChild.cloneNode(!0)},buildHint:function(b,c){return"string"==typeof b&&b?(b=this.buildElem('<li class="'+a.autoCompltHintClass+'">'+b+"</li>"),b.style.height=b.style.lineHeight=c.autoCompltHint.height,b.style.padding=c.autoCompltHint.padding,b.style.margin=c.autoCompltHint.margin,b.style.overflow=c.autoCompltHint.overflow,b.style.listStyleType=c.autoCompltHint.listStyleType,b.style.color=c.autoCompltHint.color,b.style.backgroundColor=c.autoCompltHint.backgroundColor,b.style.cursor=c.autoCompltHint.cursor,b.style.fontSize=c.autoCompltHint.fontSize,b):null},buildList:function(b){var c=this.buildElem('<ul class="'+a.autoCompltListClass+'"></ul>');return c.style.maxHeight=b.autoCompltList.maxHeight,c.style.border=b.autoCompltList.border,c.style.padding=b.autoCompltList.padding,c.style.margin=b.autoCompltList.margin,c.style.zIndex=b.autoCompltList.zIndex,c.style.overflowX=b.autoCompltList.overflowX,c.style.overflowY=b.autoCompltList.overflowY,c.style.display=b.autoCompltList.display,c.style.position=b.autoCompltList.position,c.style.backgroundColor=b.autoCompltList.backgroundColor,c}},g=function(b){this.uiElem=null,this.assocInput=b,this.mouseOnList=!1,this.onMouseSelectionListener=null,this.maxHintNum=a.maxHintNum,this.styles=JSON.parse(JSON.stringify(a.defaultStyles))};g.prototype.genList=function(){if(!this.uiElem){var a=this;this.uiElem=f.buildList(this.styles),c(this.uiElem,"mouseover",function(c){c=b(c),a.isHint(c.target)&&(a.pick(c.target),a.autoScroll())}),c(this.uiElem,"mouseout",function(){a.unpick()}),c(this.uiElem,"mousedown",function(){a.mouseOnList=!0,setTimeout(function(){a.assocInput.focus()},50)}),c(this.uiElem,"mouseup",function(c){c=b(c),a.isHint(c.target)&&(a.pick(c.target),"function"==typeof a.onMouseSelectionListener&&a.onMouseSelectionListener())}),document.body.appendChild(this.uiElem)}},g.prototype.isHint=function(b){if(b&&"object"==typeof b&&1===b.nodeType){var c=" "+b.className+" ";return c.indexOf(" "+a.autoCompltHintClass+" ")>=0}return!1},g.prototype.putHints=function(a){var b=0;if(a instanceof Array){var c,d,e=[];for(d=Math.min(a.length,this.maxHintNum),c=0;d>c;c++)e.push(f.buildHint(a[c],this.styles)),e[e.length-1]||e.pop();if(e.length>0){var g=document.createDocumentFragment();for(c=0,b=e.length;b>c;c++)g.appendChild(e[c]);this.clearHints(),this.genList(),this.uiElem.appendChild(g)}}return b},g.prototype.clearHints=function(){this.uiElem&&(this.uiElem.innerHTML="")},g.prototype.isOpen=function(){return this.uiElem?this.uiElem.getAttribute(a.listStatus.attr)==a.listStatus.open:!1},g.prototype.open=function(){var b;if(this.uiElem&&(b=this.uiElem.querySelectorAll("."+a.autoCompltHintClass))&&b.length){var c,d;for(d=this.assocInput.getBoundingClientRect(),this.uiElem.style.top=(document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop)+d.bottom+"px",this.uiElem.style.left=d.left+"px",d=d.right-d.left-parseFloat(e(this.uiElem,"borderLeftWidth"))-parseFloat(e(this.uiElem,"borderRightWidth")),this.uiElem.style.width=d+"px",c=0,d=0;c<b.length;c++)d+=parseFloat(e(b[c],"height"))+parseFloat(e(b[c],"paddingTop"))+parseFloat(e(b[c],"paddingBottom")),b[c+1]&&(d+=Math.max(parseFloat(e(b[c],"marginBottom")),parseFloat(e(b[c+1],"marginTop"))));d+=parseFloat(e(b[0],"marginTop"))+parseFloat(e(b[b.length-1],"marginBottom")),this.uiElem.style.height=d+1+"px",this.uiElem.setAttribute(a.listStatus.attr,a.listStatus.open),this.uiElem.style.display="block"}},g.prototype.close=function(){this.uiElem&&(this.mouseOnList=!1,this.uiElem.parentNode.removeChild(this.uiElem),this.uiElem=null)},g.prototype.autoScroll=function(){var a=this.getPicked();if(a){var b,c=0,d=0,f=a.clientHeight,g=parseFloat(e(a,"marginTop")),h=parseFloat(e(a,"marginBottom"));for(b=a.previousSibling,d=f+(b?Math.max(g,h):g);b;)c+=f,b=b.previousSibling,c+=b?Math.max(g,h):g;(this.uiElem.clientHeight+this.uiElem.scrollTop-c<d||c-this.uiElem.scrollTop<d)&&(this.uiElem.scrollTop=c)}},g.prototype.pick=function(b){if(this.uiElem){var c=null;if(this.isHint(b))c=b;else if("number"==typeof b&&(b>=0||-1===b)){var d=this.uiElem.querySelectorAll("."+a.autoCompltHintClass);d.length>0&&(c=+b,c=-1===c||c>d.length-1?d.length-1:c,c=d[c])}null!==c&&(this.unpick(),c.className+=" "+a.autoCompltHintSelectedClass,c.style.color=this.styles.autoCompltHintSelected.color,c.style.backgroundColor=this.styles.autoCompltHintSelected.backgroundColor)}},g.prototype.unpick=function(){if(this.uiElem){var b=this.getPicked();b&&(b.className=a.autoCompltHintClass,b.style.color=this.styles.autoCompltHint.color,b.style.backgroundColor=this.styles.autoCompltHint.backgroundColor)}},g.prototype.getPicked=function(){return this.uiElem?this.uiElem.querySelector("."+a.autoCompltHintSelectedClass)||null:null};var h={enable:function(e,f){if(e&&"object"==typeof e&&"string"==typeof e.tagName&&"input"==e.tagName.toLowerCase()&&"text"==e.type&&1===e.nodeType&&!e.autoComplt){e.autoComplt={};var h=a.autoCompltDelay,i=!0,j="",k=null,l=null,m=new g(e),n=function(){if(e.value.length>0&&i&&"function"==typeof k&&j!==e.value){var a={that:e,compltTarget:j=e.value,compltTargetMatchCurrentTarget:function(){return a.compltTarget===j},call:function(){a.compltTargetMatchCurrentTarget()&&k.call(a.that,a.compltTarget,a.openHint)},openHint:function(b){a.compltTargetMatchCurrentTarget()&&(m.putHints(b)?m.open():a.that.autoComplt.close())}};setTimeout(a.call,h)}},o=function(){if(i){var a=m.getPicked();e.value=a?a.innerHTML:j}},p=function(){m.mouseOnList?(e.focus(),m.mouseOnList=!1):m.isOpen()&&e.autoComplt.close(a.hiddenArg_close_list_n_make_final_selection)},q=function(c){if(c=b(c),i)if("keydown"!=c.type||!m.isOpen()||c.keyCode!==a.keyCode.up&&c.keyCode!==a.keyCode.down){if("keyup"==c.type){var d=!1;switch(c.keyCode){case a.keyCode.up:case a.keyCode.down:m.isOpen()||(d=!0);break;case a.keyCode.esc:m.isOpen()&&(e.value=j,e.autoComplt.close(a.hiddenArg_close_list_n_make_final_selection));break;case a.keyCode.enter:m.isOpen()&&(o(),e.autoComplt.close(a.hiddenArg_close_list_n_make_final_selection));break;default:d=!0}d&&(e.value.length>0?n():e.autoComplt.close())}}else{var f=m.getPicked();c.keyCode===a.keyCode.up?f?f.previousSibling?m.pick(f.previousSibling):m.unpick():m.pick(-1):c.keyCode===a.keyCode.down&&(f?f.nextSibling?m.pick(f.nextSibling):m.unpick():m.pick(0)),m.autoScroll(),o()}},r=function(a){null!=l&&"function"==typeof l[a]&&l[a].call(e)};return e.autoComplt.setHintsFetcher=function(a){return null===a||"function"==typeof a?(k=a,!0):!1},e.autoComplt.setListener=function(b,c){return(null===c||"function"==typeof c)&&a.listenersSupported.indexOf(b)>=0?(null==l&&(l={}),l[b]=c,!0):!1},e.autoComplt.setStyles=function(b,c){var d,e,f=!1;switch(b){case a.autoCompltListClass:d=m.styles.autoCompltList,e=a.adjStyleAttrs.autoCompltList;break;case a.autoCompltHintClass:d=m.styles.autoCompltHint,e=a.adjStyleAttrs.autoCompltHint;break;case a.autoCompltHintSelectedClass:d=m.styles.autoCompltHintSelected,e=a.adjStyleAttrs.autoCompltHintSelected}if(c instanceof Object&&d&&e)for(var g=0;g<e.length;g++)("string"==typeof c[e[g]]||"number"==typeof c[e[g]])&&(f||(f={}),f[e[g]]=d[e[g]]=c[e[g]]);return f},e.autoComplt.config=function(a){var b=!1;if(a instanceof Object){var c;void 0!==a.delay&&(c=Math.floor(a.delay))>0&&(b||(b={}),h=b.delay=c),void 0!==a.maxHintNum&&(c=Math.floor(a.maxHintNum))>0&&(b||(b={}),m.maxHintNum=b.maxHintNum=c)}return b},e.autoComplt.close=function(){j="",m.close(),i&&""!==e.value&&arguments[0]===a.hiddenArg_close_list_n_make_final_selection&&r("select")},e.autoComplt.enable=function(){i=!0},e.autoComplt.disable=function(){i=!1,this.close()},e.autoComplt.destroy=function(){d(e,"blur",p),d(e,"keyup",q),d(e,"keydown",q),this.disable(),delete e.autoComplt},m.onMouseSelectionListener=function(){o(),e.autoComplt.close(a.hiddenArg_close_list_n_make_final_selection)},c(e,"blur",p),c(e,"keyup",q),c(e,"keydown",q),f instanceof Object&&(e.autoComplt.config(f),e.autoComplt.setHintsFetcher(f.hintsFetcher)),e}return null}};return h}(),autoComplt=function(){"use strict";Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){if(void 0===this||null===this)throw new TypeError('"this" is null or not defined');var c=this.length>>>0;for(b=+b||0,Math.abs(b)===1/0&&(b=0),0>b&&(b+=c,0>b&&(b=0));c>b;b++)if(this[b]===a)return b;return-1});var a={autoCompltListClass:"autoComplt-list",autoCompltHintClass:"autoComplt-hint",autoCompltHintSelectedClass:"autoComplt-hint-selected",maxHintNum:10,autoCompltDelay:250,hiddenArg_close_list_n_make_final_selection:"hiddenArg_close_list_n_make_final_selection",listStatus:{attr:"data-listStatus",open:"open"},keyCode:{up:38,down:40,esc:27,enter:13},defaultStyles:{autoCompltList:{maxHeight:"none",border:"1px solid #aaa",padding:"0",margin:"0",zIndex:99,overflowX:"hidden",overflowY:"auto",display:"none",position:"absolute",backgroundColor:"#fff"},autoCompltHint:{height:"1.5em",padding:"2px 6px 2px 10px",margin:"6px 0",overflow:"hidden",listStyleType:"none",color:"#000",backgroundColor:"#fff",cursor:"default",fontSize:"1em"},autoCompltHintSelected:{color:"#fff",backgroundColor:"#3399ff"}},adjStyleAttrs:{autoCompltList:["border","maxHeight","backgroundColor"],autoCompltHint:["height","padding","margin","color","backgroundColor","fontSize"],autoCompltHintSelected:["color","backgroundColor"]},listenersSupported:["select"]},b=function(a){return a||(a=window.event),a.target||(a.target=a.srcElement),a.stopBubble=function(){this.cancelBubble=!0,this.stopPropoagation&&this.stopPropoagation()},a.stopDefault=function(){return this.preventDefault&&this.preventDefault(),this.returnValue=!1,!1},a},c=function(a,b,c){a.addEventListener?a.addEventListener(b,c):a.attachEvent&&a.attachEvent("on"+b,c)},d=function(a,b,c){a.removeEventListener?a.removeEventListener(b,c):a.detachEvent&&a.detachEvent("on"+b,c)},e=function(a,b){var c=null;if(window.getComputedStyle)c=window.getComputedStyle(a)[b]||null;else if(a.currentStyle){c=a.currentStyle&&a.currentStyle[b];var d,e,f=a.style;null==c&&f&&f[b]&&(c=f[b]),d=f.left,e=a.runtimeStyle&&a.runtimeStyle.left,e&&(a.runtimeStyle.left=a.currentStyle.left),f.left="fontSize"===b?"1em":c,c=f.pixelLeft+"px",f.left=d,e&&(a.runtimeStyle.left=e)}return c},f={buildElem:function(a){var b=document.createElement("DIV");return b.innerHTML=a,b.firstChild.cloneNode(!0)},buildHint:function(b,c){return"string"==typeof b&&b?(b=this.buildElem('<li class="'+a.autoCompltHintClass+'">'+b+"</li>"),b.style.height=b.style.lineHeight=c.autoCompltHint.height,b.style.padding=c.autoCompltHint.padding,b.style.margin=c.autoCompltHint.margin,b.style.overflow=c.autoCompltHint.overflow,b.style.listStyleType=c.autoCompltHint.listStyleType,b.style.color=c.autoCompltHint.color,b.style.backgroundColor=c.autoCompltHint.backgroundColor,b.style.cursor=c.autoCompltHint.cursor,b.style.fontSize=c.autoCompltHint.fontSize,b):null},buildList:function(b){var c=this.buildElem('<ul class="'+a.autoCompltListClass+'"></ul>');return c.style.maxHeight=b.autoCompltList.maxHeight,c.style.border=b.autoCompltList.border,c.style.padding=b.autoCompltList.padding,c.style.margin=b.autoCompltList.margin,c.style.zIndex=b.autoCompltList.zIndex,c.style.overflowX=b.autoCompltList.overflowX,c.style.overflowY=b.autoCompltList.overflowY,c.style.display=b.autoCompltList.display,c.style.position=b.autoCompltList.position,c.style.backgroundColor=b.autoCompltList.backgroundColor,c}},g=function(b){this.uiElem=null,this.assocInput=b,this.mouseOnList=!1,this.onMouseSelectionListener=null,this.maxHintNum=a.maxHintNum,this.styles=JSON.parse(JSON.stringify(a.defaultStyles))};g.prototype.genList=function(){if(!this.uiElem){var a=this;this.uiElem=f.buildList(this.styles),c(this.uiElem,"mouseover",function(c){c=b(c),a.isHint(c.target)&&(a.pick(c.target),a.autoScroll())}),c(this.uiElem,"mouseout",function(){a.unpick()}),c(this.uiElem,"mousedown",function(){a.mouseOnList=!0,setTimeout(function(){a.assocInput.focus()},50)}),c(this.uiElem,"mouseup",function(c){c=b(c),a.isHint(c.target)&&(a.pick(c.target),"function"==typeof a.onMouseSelectionListener&&a.onMouseSelectionListener())}),document.body.appendChild(this.uiElem)}},g.prototype.isHint=function(b){if(b&&"object"==typeof b&&1===b.nodeType){var c=" "+b.className+" ";return c.indexOf(" "+a.autoCompltHintClass+" ")>=0}return!1},g.prototype.putHints=function(a){var b=0;if(a instanceof Array){var c,d,e=[];for(d=Math.min(a.length,this.maxHintNum),c=0;d>c;c++)e.push(f.buildHint(a[c],this.styles)),e[e.length-1]||e.pop();if(e.length>0){var g=document.createDocumentFragment();for(c=0,b=e.length;b>c;c++)g.appendChild(e[c]);this.clearHints(),this.genList(),this.uiElem.appendChild(g)}}return b},g.prototype.clearHints=function(){this.uiElem&&(this.uiElem.innerHTML="")},g.prototype.isOpen=function(){return this.uiElem?this.uiElem.getAttribute(a.listStatus.attr)==a.listStatus.open:!1},g.prototype.open=function(){var b;if(this.uiElem&&(b=this.uiElem.querySelectorAll("."+a.autoCompltHintClass))&&b.length){var c,d;for(d=this.assocInput.getBoundingClientRect(),this.uiElem.style.top=(document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop)+d.bottom+"px",this.uiElem.style.left=d.left+"px",d=d.right-d.left-parseFloat(e(this.uiElem,"borderLeftWidth"))-parseFloat(e(this.uiElem,"borderRightWidth")),this.uiElem.style.width=d+"px",c=0,d=0;c<b.length;c++)d+=parseFloat(e(b[c],"height"))+parseFloat(e(b[c],"paddingTop"))+parseFloat(e(b[c],"paddingBottom")),b[c+1]&&(d+=Math.max(parseFloat(e(b[c],"marginBottom")),parseFloat(e(b[c+1],"marginTop"))));d+=parseFloat(e(b[0],"marginTop"))+parseFloat(e(b[b.length-1],"marginBottom")),this.uiElem.style.height=d+1+"px",this.uiElem.setAttribute(a.listStatus.attr,a.listStatus.open),this.uiElem.style.display="block"}},g.prototype.close=function(){this.uiElem&&(this.mouseOnList=!1,this.uiElem.parentNode.removeChild(this.uiElem),this.uiElem=null)},g.prototype.autoScroll=function(){var a=this.getPicked();if(a){var b,c=0,d=0,f=a.clientHeight,g=parseFloat(e(a,"marginTop")),h=parseFloat(e(a,"marginBottom"));for(b=a.previousSibling,d=f+(b?Math.max(g,h):g);b;)c+=f,b=b.previousSibling,c+=b?Math.max(g,h):g;(this.uiElem.clientHeight+this.uiElem.scrollTop-c<d||c-this.uiElem.scrollTop<d)&&(this.uiElem.scrollTop=c)}},g.prototype.pick=function(b){if(this.uiElem){var c=null;if(this.isHint(b))c=b;else if("number"==typeof b&&(b>=0||-1===b)){var d=this.uiElem.querySelectorAll("."+a.autoCompltHintClass);d.length>0&&(c=+b,c=-1===c||c>d.length-1?d.length-1:c,c=d[c])}null!==c&&(this.unpick(),c.className+=" "+a.autoCompltHintSelectedClass,c.style.color=this.styles.autoCompltHintSelected.color,c.style.backgroundColor=this.styles.autoCompltHintSelected.backgroundColor)}},g.prototype.unpick=function(){if(this.uiElem){var b=this.getPicked();b&&(b.className=a.autoCompltHintClass,b.style.color=this.styles.autoCompltHint.color,b.style.backgroundColor=this.styles.autoCompltHint.backgroundColor)}},g.prototype.getPicked=function(){return this.uiElem?this.uiElem.querySelector("."+a.autoCompltHintSelectedClass)||null:null};var h={enable:function(e,f){if(e&&"object"==typeof e&&"string"==typeof e.tagName&&"input"==e.tagName.toLowerCase()&&"text"==e.type&&1===e.nodeType&&!e.autoComplt){e.autoComplt={};var h=a.autoCompltDelay,i=!0,j="",k=null,l=null,m=new g(e),n=function(){if(e.value.length>0&&i&&"function"==typeof k&&j!==e.value){var a={that:e,compltTarget:j=e.value,compltTargetMatchCurrentTarget:function(){return a.compltTarget===j},call:function(){a.compltTargetMatchCurrentTarget()&&k.call(a.that,a.compltTarget,a.openHint)},openHint:function(b){a.compltTargetMatchCurrentTarget()&&(m.putHints(b)?m.open():a.that.autoComplt.close())}};setTimeout(a.call,h)}},o=function(){if(i){var a=m.getPicked();e.value=a?a.innerHTML:j}},p=function(){m.mouseOnList?(e.focus(),m.mouseOnList=!1):e.autoComplt.close(a.hiddenArg_close_list_n_make_final_selection)},q=function(c){if(c=b(c),i)if("keydown"!=c.type||!m.isOpen()||c.keyCode!==a.keyCode.up&&c.keyCode!==a.keyCode.down){if("keyup"==c.type){var d=!1;switch(c.keyCode){case a.keyCode.up:case a.keyCode.down:m.isOpen()||(d=!0);break;case a.keyCode.esc:m.isOpen()&&(e.value=j,e.autoComplt.close(a.hiddenArg_close_list_n_make_final_selection));break;case a.keyCode.enter:m.isOpen()&&(o(),e.autoComplt.close(a.hiddenArg_close_list_n_make_final_selection));break;default:d=!0}d&&(e.value.length>0?n():e.autoComplt.close())}}else{var f=m.getPicked();c.keyCode===a.keyCode.up?f?f.previousSibling?m.pick(f.previousSibling):m.unpick():m.pick(-1):c.keyCode===a.keyCode.down&&(f?f.nextSibling?m.pick(f.nextSibling):m.unpick():m.pick(0)),m.autoScroll(),o()}},r=function(a){null!=l&&"function"==typeof l[a]&&l[a].call(e)};return e.autoComplt.setHintsFetcher=function(a){return null===a||"function"==typeof a?(k=a,!0):!1},e.autoComplt.setListener=function(b,c){return(null===c||"function"==typeof c)&&a.listenersSupported.indexOf(b)>=0?(null==l&&(l={}),l[b]=c,!0):!1},e.autoComplt.setStyles=function(b,c){var d,e,f=!1;switch(b){case a.autoCompltListClass:d=m.styles.autoCompltList,e=a.adjStyleAttrs.autoCompltList;break;case a.autoCompltHintClass:d=m.styles.autoCompltHint,e=a.adjStyleAttrs.autoCompltHint;break;case a.autoCompltHintSelectedClass:d=m.styles.autoCompltHintSelected,e=a.adjStyleAttrs.autoCompltHintSelected}if(c instanceof Object&&d&&e)for(var g=0;g<e.length;g++)("string"==typeof c[e[g]]||"number"==typeof c[e[g]])&&(f||(f={}),f[e[g]]=d[e[g]]=c[e[g]]);return f},e.autoComplt.config=function(a){var b=!1;if(a instanceof Object){var c;void 0!==a.delay&&(c=Math.floor(a.delay))>0&&(b||(b={}),h=b.delay=c),void 0!==a.maxHintNum&&(c=Math.floor(a.maxHintNum))>0&&(b||(b={}),m.maxHintNum=b.maxHintNum=c)}return b},e.autoComplt.close=function(){j="",m.close(),i&&""!==e.value&&arguments[0]===a.hiddenArg_close_list_n_make_final_selection&&r("select")},e.autoComplt.enable=function(){i=!0},e.autoComplt.disable=function(){i=!1,this.close()},e.autoComplt.destroy=function(){d(e,"blur",p),d(e,"keyup",q),d(e,"keydown",q),this.disable(),delete e.autoComplt},m.onMouseSelectionListener=function(){
o(),e.autoComplt.close(a.hiddenArg_close_list_n_make_final_selection)},c(e,"blur",p),c(e,"keyup",q),c(e,"keydown",q),f instanceof Object&&(e.autoComplt.config(f),e.autoComplt.setHintsFetcher(f.hintsFetcher)),e}return null}};return h}(),autoComplt=function(){"use strict";Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){if(void 0===this||null===this)throw new TypeError('"this" is null or not defined');var c=this.length>>>0;for(b=+b||0,Math.abs(b)===1/0&&(b=0),0>b&&(b+=c,0>b&&(b=0));c>b;b++)if(this[b]===a)return b;return-1});var a={autoCompltListClass:"autoComplt-list",autoCompltHintClass:"autoComplt-hint",autoCompltHintSelectedClass:"autoComplt-hint-selected",maxHintNum:10,autoCompltDelay:250,hiddenArg_close_list_n_make_final_selection:"hiddenArg_close_list_n_make_final_selection",listStatus:{attr:"data-listStatus",open:"open"},keyCode:{up:38,down:40,esc:27,enter:13},defaultStyles:{autoCompltList:{maxHeight:"none",border:"1px solid #aaa",padding:"0",margin:"0",zIndex:99,overflowX:"hidden",overflowY:"auto",display:"none",position:"absolute",backgroundColor:"#fff"},autoCompltHint:{height:"1.5em",padding:"2px 6px 2px 10px",margin:"6px 0",overflow:"hidden",listStyleType:"none",color:"#000",backgroundColor:"#fff",cursor:"default",fontSize:"1em"},autoCompltHintSelected:{color:"#fff",backgroundColor:"#3399ff"}},adjStyleAttrs:{autoCompltList:["border","maxHeight","backgroundColor"],autoCompltHint:["height","padding","margin","color","backgroundColor","fontSize"],autoCompltHintSelected:["color","backgroundColor"]},listenersSupported:["select"]},b=function(a){return a=a||window.event,a.target=a.target||a.srcElement,a.stopBubble=function(){this.cancelBubble=!0,this.stopPropoagation&&this.stopPropoagation()},a.stopDefault=function(){return this.preventDefault&&this.preventDefault(),this.returnValue=!1,!1},a},c=function(a,b,c){a.addEventListener?a.addEventListener(b,c):a.attachEvent&&a.attachEvent("on"+b,c)},d=function(a,b,c){a.removeEventListener?a.removeEventListener(b,c):a.detachEvent&&a.detachEvent("on"+b,c)},e=function(a,b){var c=null;if(window.getComputedStyle)c=window.getComputedStyle(a)[b]||null;else if(a.currentStyle){c=a.currentStyle&&a.currentStyle[b];var d,e,f=a.style;null==c&&f&&f[b]&&(c=f[b]),d=f.left,e=a.runtimeStyle&&a.runtimeStyle.left,e&&(a.runtimeStyle.left=a.currentStyle.left),f.left="fontSize"===b?"1em":c,c=f.pixelLeft+"px",f.left=d,e&&(a.runtimeStyle.left=e)}return c},f={buildElem:function(a){var b=document.createElement("DIV");return b.innerHTML=a,b.firstChild.cloneNode(!0)},buildHint:function(b,c){return"string"==typeof b&&b?(b=this.buildElem('<li class="'+a.autoCompltHintClass+'">'+b+"</li>"),b.style.height=b.style.lineHeight=c.autoCompltHint.height,b.style.padding=c.autoCompltHint.padding,b.style.margin=c.autoCompltHint.margin,b.style.overflow=c.autoCompltHint.overflow,b.style.listStyleType=c.autoCompltHint.listStyleType,b.style.color=c.autoCompltHint.color,b.style.backgroundColor=c.autoCompltHint.backgroundColor,b.style.cursor=c.autoCompltHint.cursor,b.style.fontSize=c.autoCompltHint.fontSize,b):null},buildList:function(b){var c=this.buildElem('<ul class="'+a.autoCompltListClass+'"></ul>');return c.style.maxHeight=b.autoCompltList.maxHeight,c.style.border=b.autoCompltList.border,c.style.padding=b.autoCompltList.padding,c.style.margin=b.autoCompltList.margin,c.style.zIndex=b.autoCompltList.zIndex,c.style.overflowX=b.autoCompltList.overflowX,c.style.overflowY=b.autoCompltList.overflowY,c.style.display=b.autoCompltList.display,c.style.position=b.autoCompltList.position,c.style.backgroundColor=b.autoCompltList.backgroundColor,c}},g=function(b){this.uiElem=null,this.assocInput=b,this.mouseOnList=!1,this.onMouseSelectionListener=null,this.maxHintNum=a.maxHintNum,this.styles=JSON.parse(JSON.stringify(a.defaultStyles))};g.prototype.genList=function(){if(!this.uiElem){var a=this;this.uiElem=f.buildList(this.styles),c(this.uiElem,"mouseover",function(c){c=b(c),a.isHint(c.target)&&(a.pick(c.target),a.autoScroll())}),c(this.uiElem,"mouseout",function(){a.unpick()}),c(this.uiElem,"mousedown",function(){a.mouseOnList=!0,setTimeout(function(){a.assocInput.focus()},50)}),c(this.uiElem,"mouseup",function(c){c=b(c),a.isHint(c.target)&&(a.pick(c.target),"function"==typeof a.onMouseSelectionListener&&a.onMouseSelectionListener())}),document.body.appendChild(this.uiElem)}},g.prototype.isHint=function(b){if(b&&"object"==typeof b&&1===b.nodeType){var c=" "+b.className+" ";return c.indexOf(" "+a.autoCompltHintClass+" ")>=0}return!1},g.prototype.putHints=function(a){var b=0;if(a instanceof Array){var c,d,e=[];for(d=Math.min(a.length,this.maxHintNum),c=0;d>c;c++)e.push(f.buildHint(a[c],this.styles)),e[e.length-1]||e.pop();if(e.length>0){var g=document.createDocumentFragment();for(c=0,b=e.length;b>c;c++)g.appendChild(e[c]);this.clearHints(),this.genList(),this.uiElem.appendChild(g)}}return b},g.prototype.clearHints=function(){this.uiElem&&(this.uiElem.innerHTML="")},g.prototype.isOpen=function(){return this.uiElem?this.uiElem.getAttribute(a.listStatus.attr)==a.listStatus.open:!1},g.prototype.open=function(){var b;if(this.uiElem&&(b=this.uiElem.querySelectorAll("."+a.autoCompltHintClass))&&b.length){var c,d;for(d=this.assocInput.getBoundingClientRect(),this.uiElem.style.top=(document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop)+d.bottom+"px",this.uiElem.style.left=d.left+"px",d=d.right-d.left-parseFloat(e(this.uiElem,"borderLeftWidth"))-parseFloat(e(this.uiElem,"borderRightWidth")),this.uiElem.style.width=d+"px",c=0,d=0;c<b.length;c++)d+=parseFloat(e(b[c],"height"))+parseFloat(e(b[c],"paddingTop"))+parseFloat(e(b[c],"paddingBottom")),b[c+1]&&(d+=Math.max(parseFloat(e(b[c],"marginBottom")),parseFloat(e(b[c+1],"marginTop"))));d+=parseFloat(e(b[0],"marginTop"))+parseFloat(e(b[b.length-1],"marginBottom")),this.uiElem.style.height=d+1+"px",this.uiElem.setAttribute(a.listStatus.attr,a.listStatus.open),this.uiElem.style.display="block"}},g.prototype.close=function(){this.uiElem&&(this.mouseOnList=!1,this.uiElem.parentNode.removeChild(this.uiElem),this.uiElem=null)},g.prototype.autoScroll=function(){var a=this.getPicked();if(a){var b,c=0,d=0,f=a.clientHeight,g=parseFloat(e(a,"marginTop")),h=parseFloat(e(a,"marginBottom"));for(b=a.previousSibling,d=f+(b?Math.max(g,h):g);b;)c+=f,b=b.previousSibling,c+=b?Math.max(g,h):g;(this.uiElem.clientHeight+this.uiElem.scrollTop-c<d||c-this.uiElem.scrollTop<d)&&(this.uiElem.scrollTop=c)}},g.prototype.pick=function(b){if(this.uiElem){var c=null;if(this.isHint(b))c=b;else if("number"==typeof b&&(b>=0||-1===b)){var d=this.uiElem.querySelectorAll("."+a.autoCompltHintClass);d.length>0&&(c=+b,c=-1===c||c>d.length-1?d.length-1:c,c=d[c])}null!==c&&(this.unpick(),c.className+=" "+a.autoCompltHintSelectedClass,c.style.color=this.styles.autoCompltHintSelected.color,c.style.backgroundColor=this.styles.autoCompltHintSelected.backgroundColor)}},g.prototype.unpick=function(){if(this.uiElem){var b=this.getPicked();b&&(b.className=a.autoCompltHintClass,b.style.color=this.styles.autoCompltHint.color,b.style.backgroundColor=this.styles.autoCompltHint.backgroundColor)}},g.prototype.getPicked=function(){return this.uiElem?this.uiElem.querySelector("."+a.autoCompltHintSelectedClass)||null:null};var h={enable:function(e,f){if(e&&"object"==typeof e&&"string"==typeof e.tagName&&"input"==e.tagName.toLowerCase()&&"text"==e.type&&1===e.nodeType&&!e.autoComplt){e.autoComplt={};var h=a.autoCompltDelay,i=!0,j="",k=null,l=null,m=new g(e),n=function(){if(e.value.length>0&&i&&"function"==typeof k&&j!==e.value){var a={that:e,compltTarget:j=e.value,compltTargetMatchCurrentTarget:function(){return a.compltTarget===j},call:function(){a.compltTargetMatchCurrentTarget()&&k.call(a.that,a.compltTarget,a.openHint)},openHint:function(b){a.compltTargetMatchCurrentTarget()&&(m.putHints(b)?m.open():a.that.autoComplt.close())}};setTimeout(a.call,h)}},o=function(){if(i){var a=m.getPicked();e.value=a?a.innerHTML:j}},p=function(){m.mouseOnList?(e.focus(),m.mouseOnList=!1):e.autoComplt.close(a.hiddenArg_close_list_n_make_final_selection)},q=function(c){if(c=b(c),i)if("keydown"!=c.type||!m.isOpen()||c.keyCode!==a.keyCode.up&&c.keyCode!==a.keyCode.down){if("keyup"==c.type){var d=!1;switch(c.keyCode){case a.keyCode.up:case a.keyCode.down:m.isOpen()||(d=!0);break;case a.keyCode.esc:m.isOpen()&&(e.value=j,e.autoComplt.close(a.hiddenArg_close_list_n_make_final_selection));break;case a.keyCode.enter:m.isOpen()&&(o(),e.autoComplt.close(a.hiddenArg_close_list_n_make_final_selection));break;default:d=!0}d&&(e.value.length>0?n():e.autoComplt.close())}}else{var f=m.getPicked();c.keyCode===a.keyCode.up?f?f.previousSibling?m.pick(f.previousSibling):m.unpick():m.pick(-1):c.keyCode===a.keyCode.down&&(f?f.nextSibling?m.pick(f.nextSibling):m.unpick():m.pick(0)),m.autoScroll(),o()}},r=function(a){null!=l&&"function"==typeof l[a]&&l[a].call(e)};return e.autoComplt.setHintsFetcher=function(a){return null===a||"function"==typeof a?(k=a,!0):!1},e.autoComplt.setListener=function(b,c){return(null===c||"function"==typeof c)&&a.listenersSupported.indexOf(b)>=0?(null==l&&(l={}),l[b]=c,!0):!1},e.autoComplt.setStyles=function(b,c){var d,e,f=!1;switch(b){case a.autoCompltListClass:d=m.styles.autoCompltList,e=a.adjStyleAttrs.autoCompltList;break;case a.autoCompltHintClass:d=m.styles.autoCompltHint,e=a.adjStyleAttrs.autoCompltHint;break;case a.autoCompltHintSelectedClass:d=m.styles.autoCompltHintSelected,e=a.adjStyleAttrs.autoCompltHintSelected}if(c instanceof Object&&d&&e)for(var g=0;g<e.length;g++)("string"==typeof c[e[g]]||"number"==typeof c[e[g]])&&(f||(f={}),f[e[g]]=d[e[g]]=c[e[g]]);return f},e.autoComplt.config=function(a){var b=!1;if(a instanceof Object){var c;void 0!==a.delay&&(c=Math.floor(a.delay))>0&&(b||(b={}),h=b.delay=c),void 0!==a.maxHintNum&&(c=Math.floor(a.maxHintNum))>0&&(b||(b={}),m.maxHintNum=b.maxHintNum=c)}return b},e.autoComplt.close=function(){j="",m.close(),i&&""!==e.value&&arguments[0]===a.hiddenArg_close_list_n_make_final_selection&&r("select")},e.autoComplt.enable=function(){i=!0},e.autoComplt.disable=function(){i=!1,this.close()},e.autoComplt.destroy=function(){d(e,"blur",p),d(e,"keyup",q),d(e,"keydown",q),this.disable(),delete e.autoComplt},m.onMouseSelectionListener=function(){o(),e.autoComplt.close(a.hiddenArg_close_list_n_make_final_selection)},c(e,"blur",p),c(e,"keyup",q),c(e,"keydown",q),f instanceof Object&&(e.autoComplt.config(f),e.autoComplt.setHintsFetcher(f.hintsFetcher)),e}return null}};return h}(),autoComplt=function(){"use strict";Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){if(void 0===this||null===this)throw new TypeError('"this" is null or not defined');var c=this.length>>>0;for(b=+b||0,Math.abs(b)===1/0&&(b=0),0>b&&(b+=c,0>b&&(b=0));c>b;b++)if(this[b]===a)return b;return-1});var a={autoCompltListClass:"autoComplt-list",autoCompltHintClass:"autoComplt-hint",autoCompltHintSelectedClass:"autoComplt-hint-selected",maxHintNum:10,autoCompltDelay:250,hiddenArg_close_list_n_make_final_selection:"hiddenArg_close_list_n_make_final_selection",listStatus:{attr:"data-listStatus",open:"open"},keyCode:{up:38,down:40,esc:27,enter:13},defaultStyles:{autoCompltList:{maxHeight:"none",border:"1px solid #aaa",padding:"0",margin:"0",zIndex:99,overflowX:"hidden",overflowY:"auto",display:"none",position:"absolute",backgroundColor:"#fff"},autoCompltHint:{height:"1.5em",padding:"2px 6px 2px 10px",margin:"6px 0",overflow:"hidden",listStyleType:"none",color:"#000",backgroundColor:"#fff",cursor:"default",fontSize:"1em"},autoCompltHintSelected:{color:"#fff",backgroundColor:"#3399ff"}},adjStyleAttrs:{autoCompltList:["border","maxHeight","backgroundColor"],autoCompltHint:["height","padding","margin","color","backgroundColor","fontSize"],autoCompltHintSelected:["color","backgroundColor"]},listenersSupported:["select"]},b=function(a){return a=a||window.event,a.target=a.target||a.srcElement,a.stopBubble=function(){this.cancelBubble=!0,this.stopPropoagation&&this.stopPropoagation()},a.stopDefault=function(){return this.preventDefault&&this.preventDefault(),this.returnValue=!1,!1},a},c=function(a,b,c){a.addEventListener?a.addEventListener(b,c):a.attachEvent&&a.attachEvent("on"+b,c)},d=function(a,b,c){a.removeEventListener?a.removeEventListener(b,c):a.detachEvent&&a.detachEvent("on"+b,c)},e=function(a,b){var c=null;if(window.getComputedStyle)c=window.getComputedStyle(a)[b]||null;else if(a.currentStyle){c=a.currentStyle&&a.currentStyle[b];var d,e,f=a.style;null==c&&f&&f[b]&&(c=f[b]),d=f.left,e=a.runtimeStyle&&a.runtimeStyle.left,e&&(a.runtimeStyle.left=a.currentStyle.left),f.left="fontSize"===b?"1em":c,c=f.pixelLeft+"px",f.left=d,e&&(a.runtimeStyle.left=e)}return c},f={buildElem:function(a){var b=document.createElement("DIV");return b.innerHTML=a,b.firstChild.cloneNode(!0)},buildHint:function(b,c){return"string"==typeof b&&b?(b=this.buildElem('<li class="'+a.autoCompltHintClass+'">'+b+"</li>"),b.style.height=b.style.lineHeight=c.autoCompltHint.height,b.style.padding=c.autoCompltHint.padding,b.style.margin=c.autoCompltHint.margin,b.style.overflow=c.autoCompltHint.overflow,b.style.listStyleType=c.autoCompltHint.listStyleType,b.style.color=c.autoCompltHint.color,b.style.backgroundColor=c.autoCompltHint.backgroundColor,b.style.cursor=c.autoCompltHint.cursor,b.style.fontSize=c.autoCompltHint.fontSize,b):null},buildList:function(b){var c=this.buildElem('<ul class="'+a.autoCompltListClass+'"></ul>');return c.style.maxHeight=b.autoCompltList.maxHeight,c.style.border=b.autoCompltList.border,c.style.padding=b.autoCompltList.padding,c.style.margin=b.autoCompltList.margin,c.style.zIndex=b.autoCompltList.zIndex,c.style.overflowX=b.autoCompltList.overflowX,c.style.overflowY=b.autoCompltList.overflowY,c.style.display=b.autoCompltList.display,c.style.position=b.autoCompltList.position,c.style.backgroundColor=b.autoCompltList.backgroundColor,c}},g=function(b){this.uiElem=null,this.assocInput=b,this.mouseOnList=!1,this.onMouseSelectionListener=null,this.maxHintNum=a.maxHintNum,this.styles=JSON.parse(JSON.stringify(a.defaultStyles))};g.prototype.genList=function(){if(!this.uiElem){var a=this;this.uiElem=f.buildList(this.styles),c(this.uiElem,"mouseover",function(c){c=b(c),a.isHint(c.target)&&(a.pick(c.target),a.autoScroll())}),c(this.uiElem,"mouseout",function(){a.unpick()}),c(this.uiElem,"mousedown",function(){a.mouseOnList=!0,setTimeout(function(){a.assocInput.focus()},50)}),c(this.uiElem,"mouseup",function(c){c=b(c),a.isHint(c.target)&&(a.pick(c.target),"function"==typeof a.onMouseSelectionListener&&a.onMouseSelectionListener())}),document.body.appendChild(this.uiElem)}},g.prototype.isHint=function(b){if(b&&"object"==typeof b&&1===b.nodeType){var c=" "+b.className+" ";return c.indexOf(" "+a.autoCompltHintClass+" ")>=0}return!1},g.prototype.putHints=function(a){var b=0;if(a instanceof Array){var c,d,e=[];for(d=Math.min(a.length,this.maxHintNum),c=0;d>c;c++)e.push(f.buildHint(a[c],this.styles)),e[e.length-1]||e.pop();if(e.length>0){var g=document.createDocumentFragment();for(c=0,b=e.length;b>c;c++)g.appendChild(e[c]);this.clearHints(),this.genList(),this.uiElem.appendChild(g)}}return b},g.prototype.clearHints=function(){this.uiElem&&(this.uiElem.innerHTML="")},g.prototype.isOpen=function(){return this.uiElem?this.uiElem.getAttribute(a.listStatus.attr)==a.listStatus.open:!1},g.prototype.open=function(){var b;if(this.uiElem&&(b=this.uiElem.querySelectorAll("."+a.autoCompltHintClass))&&b.length){var c,d;for(d=this.assocInput.getBoundingClientRect(),this.uiElem.style.top=(document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop)+d.bottom+"px",this.uiElem.style.left=d.left+"px",d=d.right-d.left-parseFloat(e(this.uiElem,"borderLeftWidth"))-parseFloat(e(this.uiElem,"borderRightWidth")),this.uiElem.style.width=d+"px",c=0,d=0;c<b.length;c++)d+=parseFloat(e(b[c],"height"))+parseFloat(e(b[c],"paddingTop"))+parseFloat(e(b[c],"paddingBottom")),b[c+1]&&(d+=Math.max(parseFloat(e(b[c],"marginBottom")),parseFloat(e(b[c+1],"marginTop"))));d+=parseFloat(e(b[0],"marginTop"))+parseFloat(e(b[b.length-1],"marginBottom")),this.uiElem.style.height=d+1+"px",this.uiElem.setAttribute(a.listStatus.attr,a.listStatus.open),this.uiElem.style.display="block"}},g.prototype.close=function(){this.uiElem&&(this.mouseOnList=!1,this.uiElem.parentNode.removeChild(this.uiElem),this.uiElem=null)},g.prototype.autoScroll=function(){var a=this.getPicked();if(a){var b,c=0,d=0,f=a.clientHeight,g=parseFloat(e(a,"marginTop")),h=parseFloat(e(a,"marginBottom"));for(b=a.previousSibling,d=f+(b?Math.max(g,h):g);b;)c+=f,b=b.previousSibling,c+=b?Math.max(g,h):g;(this.uiElem.clientHeight+this.uiElem.scrollTop-c<d||c-this.uiElem.scrollTop<d)&&(this.uiElem.scrollTop=c)}},g.prototype.pick=function(b){if(this.uiElem){var c=null;if(this.isHint(b))c=b;else if("number"==typeof b&&(b>=0||-1===b)){var d=this.uiElem.querySelectorAll("."+a.autoCompltHintClass);d.length>0&&(c=+b,c=-1===c||c>d.length-1?d.length-1:c,c=d[c])}null!==c&&(this.unpick(),c.className+=" "+a.autoCompltHintSelectedClass,c.style.color=this.styles.autoCompltHintSelected.color,c.style.backgroundColor=this.styles.autoCompltHintSelected.backgroundColor)}},g.prototype.unpick=function(){if(this.uiElem){var b=this.getPicked();b&&(b.className=a.autoCompltHintClass,b.style.color=this.styles.autoCompltHint.color,b.style.backgroundColor=this.styles.autoCompltHint.backgroundColor)}},g.prototype.getPicked=function(){return this.uiElem?this.uiElem.querySelector("."+a.autoCompltHintSelectedClass)||null:null};var h={enable:function(e,f){if(e&&"object"==typeof e&&"string"==typeof e.tagName&&"input"==e.tagName.toLowerCase()&&"text"==e.type&&1===e.nodeType&&!e.autoComplt){e.autoComplt={};var h=a.autoCompltDelay,i=!0,j="",k=null,l=null,m=new g(e),n=function(){if(e.value.length>0&&i&&"function"==typeof k&&j!==e.value){var a={that:e,compltTarget:j=e.value,compltTargetMatchCurrentTarget:function(){return a.compltTarget===j},call:function(){a.compltTargetMatchCurrentTarget()&&k.call(a.that,a.compltTarget,a.openHint)},openHint:function(b){a.compltTargetMatchCurrentTarget()&&(m.putHints(b)?m.open():a.that.autoComplt.close())}};setTimeout(a.call,h)}},o=function(){if(i){var a=m.getPicked();e.value=a?a.innerHTML:j}},p=function(){m.mouseOnList?(e.focus(),m.mouseOnList=!1):e.autoComplt.close(a.hiddenArg_close_list_n_make_final_selection)},q=function(c){if(c=b(c),i)if("keydown"!=c.type||!m.isOpen()||c.keyCode!==a.keyCode.up&&c.keyCode!==a.keyCode.down){if("keyup"==c.type){var d=!1;switch(c.keyCode){case a.keyCode.up:case a.keyCode.down:m.isOpen()||(d=!0);break;case a.keyCode.esc:m.isOpen()&&(e.value=j,e.autoComplt.close(a.hiddenArg_close_list_n_make_final_selection));break;case a.keyCode.enter:m.isOpen()&&(o(),e.autoComplt.close(a.hiddenArg_close_list_n_make_final_selection));break;default:d=!0}d&&(e.value.length>0?n():e.autoComplt.close())}}else{var f=m.getPicked();c.keyCode===a.keyCode.up?f?f.previousSibling?m.pick(f.previousSibling):m.unpick():m.pick(-1):c.keyCode===a.keyCode.down&&(f?f.nextSibling?m.pick(f.nextSibling):m.unpick():m.pick(0)),m.autoScroll(),o()}},r=function(a){null!=l&&"function"==typeof l[a]&&l[a].call(e)};return e.autoComplt.setHintsFetcher=function(a){return null===a||"function"==typeof a?(k=a,!0):!1},e.autoComplt.setListener=function(b,c){return(null===c||"function"==typeof c)&&a.listenersSupported.indexOf(b)>=0?(null==l&&(l={}),l[b]=c,!0):!1},e.autoComplt.setStyles=function(b,c){var d,e,f=!1;switch(b){case a.autoCompltListClass:d=m.styles.autoCompltList,e=a.adjStyleAttrs.autoCompltList;break;case a.autoCompltHintClass:d=m.styles.autoCompltHint,e=a.adjStyleAttrs.autoCompltHint;break;case a.autoCompltHintSelectedClass:d=m.styles.autoCompltHintSelected,e=a.adjStyleAttrs.autoCompltHintSelected}if(c instanceof Object&&d&&e)for(var g=0;g<e.length;g++)("string"==typeof c[e[g]]||"number"==typeof c[e[g]])&&(f||(f={}),f[e[g]]=d[e[g]]=c[e[g]]);return f},e.autoComplt.config=function(a){var b=!1;if(a instanceof Object){var c;void 0!==a.delay&&(c=Math.floor(a.delay))>0&&(b||(b={}),h=b.delay=c),void 0!==a.maxHintNum&&(c=Math.floor(a.maxHintNum))>0&&(b||(b={}),m.maxHintNum=b.maxHintNum=c)}return b},e.autoComplt.close=function(){j="",m.close(),i&&""!==e.value&&arguments[0]===a.hiddenArg_close_list_n_make_final_selection&&r("select")},e.autoComplt.enable=function(){i=!0},e.autoComplt.disable=function(){i=!1,this.close()},e.autoComplt.destroy=function(){d(e,"blur",p),d(e,"keyup",q),d(e,"keydown",q),this.disable(),delete e.autoComplt},m.onMouseSelectionListener=function(){o(),e.autoComplt.close(a.hiddenArg_close_list_n_make_final_selection)},c(e,"blur",p),c(e,"keyup",q),c(e,"keydown",q),f instanceof Object&&(e.autoComplt.config(f),e.autoComplt.setHintsFetcher(f.hintsFetcher)),e}return null}};return h}(),autoComplt=function(){"use strict";Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){if(void 0===this||null===this)throw new TypeError('"this" is null or not defined');var c=this.length>>>0;for(b=+b||0,Math.abs(b)===1/0&&(b=0),0>b&&(b+=c,0>b&&(b=0));c>b;b++)if(this[b]===a)return b;return-1});var a={autoCompltListClass:"autoComplt-list",autoCompltHintClass:"autoComplt-hint",autoCompltHintSelectedClass:"autoComplt-hint-selected",maxHintNum:10,autoCompltDelay:250,hiddenArg_close_list_n_make_final_selection:"hiddenArg_close_list_n_make_final_selection",listStatus:{attr:"data-listStatus",open:"open"},keyCode:{up:38,down:40,esc:27,enter:13},defaultStyles:{autoCompltList:{maxHeight:"none",border:"1px solid #aaa",padding:"0",margin:"0",zIndex:99,overflowX:"hidden",overflowY:"auto",display:"none",position:"absolute",backgroundColor:"#fff"},autoCompltHint:{height:"1.5em",padding:"2px 6px 2px 10px",margin:"6px 0",overflow:"hidden",listStyleType:"none",color:"#000",backgroundColor:"#fff",cursor:"default",fontSize:"1em"},autoCompltHintSelected:{color:"#fff",backgroundColor:"#3399ff"}},adjStyleAttrs:{autoCompltList:["border","maxHeight","backgroundColor"],autoCompltHint:["height","padding","margin","color","backgroundColor","fontSize"],autoCompltHintSelected:["color","backgroundColor"]},listenersSupported:["select"]},b=function(a){return a=a||window.event,a.target=a.target||a.srcElement,a.stopBubble=function(){this.cancelBubble=!0,this.stopPropoagation&&this.stopPropoagation()},a.stopDefault=function(){return this.preventDefault&&this.preventDefault(),this.returnValue=!1,!1},a},c=function(a,b,c){a.addEventListener?a.addEventListener(b,c):a.attachEvent&&a.attachEvent("on"+b,c)},d=function(a,b,c){a.removeEventListener?a.removeEventListener(b,c):a.detachEvent&&a.detachEvent("on"+b,c)},e=function(a,b){var c=null;if(window.getComputedStyle)c=window.getComputedStyle(a)[b]||null;else if(a.currentStyle){c=a.currentStyle&&a.currentStyle[b];var d,e,f=a.style;null==c&&f&&f[b]&&(c=f[b]),d=f.left,e=a.runtimeStyle&&a.runtimeStyle.left,e&&(a.runtimeStyle.left=a.currentStyle.left),f.left="fontSize"===b?"1em":c,c=f.pixelLeft+"px",f.left=d,e&&(a.runtimeStyle.left=e)}return c},f={buildElem:function(a){var b=document.createElement("DIV");return b.innerHTML=a,b.firstChild.cloneNode(!0)},buildHint:function(b,c){return"string"==typeof b&&b?(b=this.buildElem('<li class="'+a.autoCompltHintClass+'">'+b+"</li>"),b.style.height=b.style.lineHeight=c.autoCompltHint.height,b.style.padding=c.autoCompltHint.padding,b.style.margin=c.autoCompltHint.margin,b.style.overflow=c.autoCompltHint.overflow,b.style.listStyleType=c.autoCompltHint.listStyleType,b.style.color=c.autoCompltHint.color,b.style.backgroundColor=c.autoCompltHint.backgroundColor,b.style.cursor=c.autoCompltHint.cursor,b.style.fontSize=c.autoCompltHint.fontSize,b):null},buildList:function(b){var c=this.buildElem('<ul class="'+a.autoCompltListClass+'"></ul>');return c.style.maxHeight=b.autoCompltList.maxHeight,c.style.border=b.autoCompltList.border,c.style.padding=b.autoCompltList.padding,c.style.margin=b.autoCompltList.margin,c.style.zIndex=b.autoCompltList.zIndex,c.style.overflowX=b.autoCompltList.overflowX,c.style.overflowY=b.autoCompltList.overflowY,c.style.display=b.autoCompltList.display,c.style.position=b.autoCompltList.position,c.style.backgroundColor=b.autoCompltList.backgroundColor,c}},g=function(b){this.uiElem=null,this.assocInput=b,this.mouseOnList=!1,this.onMouseSelectionListener=null,this.maxHintNum=a.maxHintNum,this.styles=JSON.parse(JSON.stringify(a.defaultStyles))};g.prototype.genList=function(){if(!this.uiElem){var a=this;this.uiElem=f.buildList(this.styles),c(this.uiElem,"mouseover",function(c){c=b(c),a.isHint(c.target)&&(a.pick(c.target),a.autoScroll())}),c(this.uiElem,"mouseout",function(){a.unpick()}),c(this.uiElem,"mousedown",function(){a.mouseOnList=!0,setTimeout(function(){a.assocInput.focus()},50)}),c(this.uiElem,"mouseup",function(c){c=b(c),a.isHint(c.target)&&(a.pick(c.target),"function"==typeof a.onMouseSelectionListener&&a.onMouseSelectionListener())}),document.body.appendChild(this.uiElem)}},g.prototype.isHint=function(b){if(b&&"object"==typeof b&&1===b.nodeType){var c=" "+b.className+" ";return c.indexOf(" "+a.autoCompltHintClass+" ")>=0}return!1},g.prototype.putHints=function(a){var b=0;if(a instanceof Array){var c,d,e=[];for(d=Math.min(a.length,this.maxHintNum),c=0;d>c;c++)e.push(f.buildHint(a[c],this.styles)),e[e.length-1]||e.pop();if(e.length>0){var g=document.createDocumentFragment();for(c=0,b=e.length;b>c;c++)g.appendChild(e[c]);this.clearHints(),this.genList(),this.uiElem.appendChild(g)}}return b},g.prototype.clearHints=function(){this.uiElem&&(this.uiElem.innerHTML="")},g.prototype.isOpen=function(){return this.uiElem?this.uiElem.getAttribute(a.listStatus.attr)==a.listStatus.open:!1},g.prototype.open=function(){var b;if(this.uiElem&&(b=this.uiElem.querySelectorAll("."+a.autoCompltHintClass))&&b.length){var c,d;for(d=this.assocInput.getBoundingClientRect(),this.uiElem.style.top=(document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop)+d.bottom+"px",this.uiElem.style.left=d.left+"px",d=d.right-d.left-parseFloat(e(this.uiElem,"borderLeftWidth"))-parseFloat(e(this.uiElem,"borderRightWidth")),this.uiElem.style.width=d+"px",c=0,d=0;c<b.length;c++)d+=parseFloat(e(b[c],"height"))+parseFloat(e(b[c],"paddingTop"))+parseFloat(e(b[c],"paddingBottom")),b[c+1]&&(d+=Math.max(parseFloat(e(b[c],"marginBottom")),parseFloat(e(b[c+1],"marginTop"))));d+=parseFloat(e(b[0],"marginTop"))+parseFloat(e(b[b.length-1],"marginBottom")),this.uiElem.style.height=d+1+"px",this.uiElem.setAttribute(a.listStatus.attr,a.listStatus.open),this.uiElem.style.display="block"}},g.prototype.close=function(){this.uiElem&&(this.mouseOnList=!1,this.uiElem.parentNode.removeChild(this.uiElem),this.uiElem=null)},g.prototype.autoScroll=function(){var a=this.getPicked();if(a){var b,c=0,d=0,f=a.clientHeight,g=parseFloat(e(a,"marginTop")),h=parseFloat(e(a,"marginBottom"));for(b=a.previousSibling,d=f+(b?Math.max(g,h):g);b;)c+=f,b=b.previousSibling,c+=b?Math.max(g,h):g;(this.uiElem.clientHeight+this.uiElem.scrollTop-c<d||c-this.uiElem.scrollTop<d)&&(this.uiElem.scrollTop=c)}},g.prototype.pick=function(b){if(this.uiElem){var c=null;if(this.isHint(b))c=b;else if("number"==typeof b&&(b>=0||-1===b)){var d=this.uiElem.querySelectorAll("."+a.autoCompltHintClass);d.length>0&&(c=+b,c=-1===c||c>d.length-1?d.length-1:c,c=d[c])}null!==c&&(this.unpick(),c.className+=" "+a.autoCompltHintSelectedClass,c.style.color=this.styles.autoCompltHintSelected.color,c.style.backgroundColor=this.styles.autoCompltHintSelected.backgroundColor)}},g.prototype.unpick=function(){if(this.uiElem){var b=this.getPicked();b&&(b.className=a.autoCompltHintClass,b.style.color=this.styles.autoCompltHint.color,b.style.backgroundColor=this.styles.autoCompltHint.backgroundColor)}},g.prototype.getPicked=function(){return this.uiElem?this.uiElem.querySelector("."+a.autoCompltHintSelectedClass)||null:null};var h={enable:function(e,f){if(e&&"object"==typeof e&&"string"==typeof e.tagName&&"input"==e.tagName.toLowerCase()&&"text"==e.type&&1===e.nodeType&&!e.autoComplt){e.autoComplt={};var h=a.autoCompltDelay,i=!0,j="",k=null,l=null,m=new g(e),n=function(){if(e.value.length>0&&i&&"function"==typeof k&&j!==e.value){var a={that:e,compltTarget:j=e.value,compltTargetMatchCurrentTarget:function(){return a.compltTarget===j},call:function(){a.compltTargetMatchCurrentTarget()&&k.call(a.that,a.compltTarget,a.openHint)},openHint:function(b){a.compltTargetMatchCurrentTarget()&&(m.putHints(b)?m.open():a.that.autoComplt.close())}};setTimeout(a.call,h)}},o=function(){if(i){var a=m.getPicked();e.value=a?a.innerHTML:j}},p=function(){m.mouseOnList?(e.focus(),m.mouseOnList=!1):e.autoComplt.close(a.hiddenArg_close_list_n_make_final_selection)},q=function(c){if(c=b(c),i)if("keydown"!=c.type||!m.isOpen()||c.keyCode!==a.keyCode.up&&c.keyCode!==a.keyCode.down){if("keyup"==c.type){var d=!1;switch(c.keyCode){case a.keyCode.up:case a.keyCode.down:m.isOpen()||(d=!0);break;case a.keyCode.esc:m.isOpen()&&(e.value=j,e.autoComplt.close(a.hiddenArg_close_list_n_make_final_selection));break;case a.keyCode.enter:m.isOpen()&&(o(),e.autoComplt.close(a.hiddenArg_close_list_n_make_final_selection));break;default:d=!0}d&&(e.value.length>0?n():e.autoComplt.close())}}else{var f=m.getPicked();c.keyCode===a.keyCode.up?f?f.previousSibling?m.pick(f.previousSibling):m.unpick():m.pick(-1):c.keyCode===a.keyCode.down&&(f?f.nextSibling?m.pick(f.nextSibling):m.unpick():m.pick(0)),m.autoScroll(),o()}},r=function(a){null!=l&&"function"==typeof l[a]&&l[a].call(e)};return e.autoComplt.setHintsFetcher=function(a){return null===a||"function"==typeof a?(k=a,!0):!1},e.autoComplt.setListener=function(b,c){return(null===c||"function"==typeof c)&&a.listenersSupported.indexOf(b)>=0?(null==l&&(l={}),l[b]=c,!0):!1},e.autoComplt.setStyles=function(b,c){var d,e,f=!1;switch(b){case a.autoCompltListClass:d=m.styles.autoCompltList,e=a.adjStyleAttrs.autoCompltList;break;case a.autoCompltHintClass:d=m.styles.autoCompltHint,e=a.adjStyleAttrs.autoCompltHint;break;case a.autoCompltHintSelectedClass:d=m.styles.autoCompltHintSelected,e=a.adjStyleAttrs.autoCompltHintSelected}if(c instanceof Object&&d&&e)for(var g=0;g<e.length;g++)("string"==typeof c[e[g]]||"number"==typeof c[e[g]])&&(f||(f={}),f[e[g]]=d[e[g]]=c[e[g]]);return f},e.autoComplt.config=function(a){var b=!1;if(a instanceof Object){var c;void 0!==a.delay&&(c=Math.floor(a.delay))>0&&(b||(b={}),h=b.delay=c),void 0!==a.maxHintNum&&(c=Math.floor(a.maxHintNum))>0&&(b||(b={}),m.maxHintNum=b.maxHintNum=c)}return b},e.autoComplt.close=function(){j="",m.close(),i&&""!==e.value&&arguments[0]===a.hiddenArg_close_list_n_make_final_selection&&r("select")},e.autoComplt.enable=function(){i=!0},e.autoComplt.disable=function(){i=!1,this.close()},e.autoComplt.destroy=function(){d(e,"blur",p),d(e,"keyup",q),d(e,"keydown",q),this.disable(),delete e.autoComplt},m.onMouseSelectionListener=function(){o(),e.autoComplt.close(a.hiddenArg_close_list_n_make_final_selection)},c(e,"blur",p),c(e,"keyup",q),c(e,"keydown",q),f instanceof Object&&(e.autoComplt.config(f),e.autoComplt.setHintsFetcher(f.hintsFetcher)),e}return null}};return h}(),autoComplt=function(){"use struct";Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){if(void 0===this||null===this)throw new TypeError('"this" is null or not defined');var c=this.length>>>0;for(b=+b||0,Math.abs(b)===1/0&&(b=0),0>b&&(b+=c,0>b&&(b=0));c>b;b++)if(this[b]===a)return b;return-1});var a={autoCompltListClass:"autoComplt-list",autoCompltHintClass:"autoComplt-hint",autoCompltHintSelectedClass:"autoComplt-hint-selected",maxHintNum:10,autoCompltDelay:250,hiddenArg_close_list_n_make_final_selection:"hiddenArg_close_list_n_make_final_selection",listStatus:{attr:"data-listStatus",open:"open"},keyCode:{up:38,down:40,esc:27,enter:13},defaultStyles:{autoCompltList:{maxHeight:"none",border:"1px solid #aaa",padding:"0",margin:"0",zIndex:99,overflowX:"hidden",overflowY:"auto",display:"none",position:"absolute",
backgroundColor:"#fff"},autoCompltHint:{height:"1.5em",padding:"2px 6px 2px 10px",margin:"6px 0",overflow:"hidden",listStyleType:"none",color:"#000",backgroundColor:"#fff",cursor:"default",fontSize:"1em"},autoCompltHintSelected:{color:"#fff",backgroundColor:"#3399ff"}},adjStyleAttrs:{autoCompltList:["border","maxHeight","backgroundColor"],autoCompltHint:["height","padding","margin","color","backgroundColor","fontSize"],autoCompltHintSelected:["color","backgroundColor"]},listenersSupported:["select"]},b=function(a){return a=a||window.event,a.target=a.target||a.srcElement,a.stopBubble=function(){this.cancelBubble=!0,this.stopPropoagation&&this.stopPropoagation()},a.stopDefault=function(){return this.preventDefault&&this.preventDefault(),this.returnValue=!1,!1},a},c=function(a,b,c){a.addEventListener?a.addEventListener(b,c):a.attachEvent&&a.attachEvent("on"+b,c)},d=function(a,b,c){a.removeEventListener?a.removeEventListener(b,c):a.detachEvent&&a.detachEvent("on"+b,c)},e=function(a,b){var c=null;if(window.getComputedStyle)c=window.getComputedStyle(a)[b]||null;else if(a.currentStyle){c=a.currentStyle&&a.currentStyle[b];var d,e,f=a.style;null==c&&f&&f[b]&&(c=f[b]),d=f.left,e=a.runtimeStyle&&a.runtimeStyle.left,e&&(a.runtimeStyle.left=a.currentStyle.left),f.left="fontSize"===b?"1em":c,c=f.pixelLeft+"px",f.left=d,e&&(a.runtimeStyle.left=e)}return c},f={buildElem:function(a){var b=document.createElement("DIV");return b.innerHTML=a,b.firstChild.cloneNode(!0)},buildHint:function(b,c){return"string"==typeof b&&b?(b=this.buildElem('<li class="'+a.autoCompltHintClass+'">'+b+"</li>"),b.style.height=b.style.lineHeight=c.autoCompltHint.height,b.style.padding=c.autoCompltHint.padding,b.style.margin=c.autoCompltHint.margin,b.style.overflow=c.autoCompltHint.overflow,b.style.listStyleType=c.autoCompltHint.listStyleType,b.style.color=c.autoCompltHint.color,b.style.backgroundColor=c.autoCompltHint.backgroundColor,b.style.cursor=c.autoCompltHint.cursor,b.style.fontSize=c.autoCompltHint.fontSize,b):null},buildList:function(b){var c=this.buildElem('<ul class="'+a.autoCompltListClass+'"></ul>');return c.style.maxHeight=b.autoCompltList.maxHeight,c.style.border=b.autoCompltList.border,c.style.padding=b.autoCompltList.padding,c.style.margin=b.autoCompltList.margin,c.style.zIndex=b.autoCompltList.zIndex,c.style.overflowX=b.autoCompltList.overflowX,c.style.overflowY=b.autoCompltList.overflowY,c.style.display=b.autoCompltList.display,c.style.position=b.autoCompltList.position,c.style.backgroundColor=b.autoCompltList.backgroundColor,c}},g=function(b){this.uiElem=null,this.assocInput=b,this.mouseOnList=!1,this.onMouseSelectionListener=null,this.maxHintNum=a.maxHintNum,this.styles=JSON.parse(JSON.stringify(a.defaultStyles))};g.prototype.genList=function(){if(!this.uiElem){var a=this;this.uiElem=f.buildList(this.styles),c(this.uiElem,"mouseover",function(c){c=b(c),a.isHint(c.target)&&(a.pick(c.target),a.autoScroll())}),c(this.uiElem,"mouseout",function(){a.unpick()}),c(this.uiElem,"mousedown",function(){a.mouseOnList=!0,setTimeout(function(){a.assocInput.focus()},50)}),c(this.uiElem,"mouseup",function(c){c=b(c),a.isHint(c.target)&&(a.pick(c.target),"function"==typeof a.onMouseSelectionListener&&a.onMouseSelectionListener())}),document.body.appendChild(this.uiElem)}},g.prototype.isHint=function(b){if(b&&"object"==typeof b&&1===b.nodeType){var c=" "+b.className+" ";return c.indexOf(" "+a.autoCompltHintClass+" ")>=0}return!1},g.prototype.putHints=function(a){var b=0;if(a instanceof Array){var c,d,e=[];for(d=Math.min(a.length,this.maxHintNum),c=0;d>c;c++)e.push(f.buildHint(a[c],this.styles)),e[e.length-1]||e.pop();if(e.length>0){var g=document.createDocumentFragment();for(c=0,b=e.length;b>c;c++)g.appendChild(e[c]);this.clearHints(),this.genList(),this.uiElem.appendChild(g)}}return b},g.prototype.clearHints=function(){this.uiElem&&(this.uiElem.innerHTML="")},g.prototype.isOpen=function(){return this.uiElem?this.uiElem.getAttribute(a.listStatus.attr)==a.listStatus.open:!1},g.prototype.open=function(){var b;if(this.uiElem&&(b=this.uiElem.querySelectorAll("."+a.autoCompltHintClass))&&b.length){var c,d;for(d=this.assocInput.getBoundingClientRect(),this.uiElem.style.top=(document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop)+d.bottom+"px",this.uiElem.style.left=d.left+"px",d=d.right-d.left-parseFloat(e(this.uiElem,"borderLeftWidth"))-parseFloat(e(this.uiElem,"borderRightWidth")),this.uiElem.style.width=d+"px",c=0,d=0;c<b.length;c++)d+=parseFloat(e(b[c],"height"))+parseFloat(e(b[c],"paddingTop"))+parseFloat(e(b[c],"paddingBottom")),b[c+1]&&(d+=Math.max(parseFloat(e(b[c],"marginBottom")),parseFloat(e(b[c+1],"marginTop"))));d+=parseFloat(e(b[0],"marginTop"))+parseFloat(e(b[b.length-1],"marginBottom")),this.uiElem.style.height=d+1+"px",this.uiElem.setAttribute(a.listStatus.attr,a.listStatus.open),this.uiElem.style.display="block"}},g.prototype.close=function(){this.uiElem&&(this.mouseOnList=!1,this.uiElem.parentNode.removeChild(this.uiElem),this.uiElem=null)},g.prototype.autoScroll=function(){var a=this.getPicked();if(a){var b,c=0,d=0,f=a.clientHeight,g=parseFloat(e(a,"marginTop")),h=parseFloat(e(a,"marginBottom"));for(b=a.previousSibling,d=f+(b?Math.max(g,h):g);b;)c+=f,b=b.previousSibling,c+=b?Math.max(g,h):g;(this.uiElem.clientHeight+this.uiElem.scrollTop-c<d||c-this.uiElem.scrollTop<d)&&(this.uiElem.scrollTop=c)}},g.prototype.pick=function(b){if(this.uiElem){var c=null;if(this.isHint(b))c=b;else if("number"==typeof b&&(b>=0||-1===b)){var d=this.uiElem.querySelectorAll("."+a.autoCompltHintClass);d.length>0&&(c=+b,c=-1===c||c>d.length-1?d.length-1:c,c=d[c])}null!==c&&(this.unpick(),c.className+=" "+a.autoCompltHintSelectedClass,c.style.color=this.styles.autoCompltHintSelected.color,c.style.backgroundColor=this.styles.autoCompltHintSelected.backgroundColor)}},g.prototype.unpick=function(){if(this.uiElem){var b=this.getPicked();b&&(b.className=a.autoCompltHintClass,b.style.color=this.styles.autoCompltHint.color,b.style.backgroundColor=this.styles.autoCompltHint.backgroundColor)}},g.prototype.getPicked=function(){return this.uiElem?this.uiElem.querySelector("."+a.autoCompltHintSelectedClass)||null:null};var h={enable:function(e,f){if(e&&"object"==typeof e&&"string"==typeof e.tagName&&"input"==e.tagName.toLowerCase()&&"text"==e.type&&1===e.nodeType&&!e.autoComplt){e.autoComplt={};var h=a.autoCompltDelay,i=!0,j="",k=null,l=null,m=new g(e),n=function(){if(e.value.length>0&&i&&"function"==typeof k&&j!==e.value){var a={that:e,compltTarget:j=e.value,compltTargetMatchCurrentTarget:function(){return a.compltTarget===j},call:function(){a.compltTargetMatchCurrentTarget()&&k.call(a.that,a.compltTarget,a.openHint)},openHint:function(b){a.compltTargetMatchCurrentTarget()&&(m.putHints(b)?m.open():a.that.autoComplt.close())}};setTimeout(a.call,h)}},o=function(){if(i){var a=m.getPicked();e.value=a?a.innerHTML:j}},p=function(){m.mouseOnList?(e.focus(),m.mouseOnList=!1):e.autoComplt.close(a.hiddenArg_close_list_n_make_final_selection)},q=function(c){if(c=b(c),i)if("keydown"!=c.type||!m.isOpen()||c.keyCode!==a.keyCode.up&&c.keyCode!==a.keyCode.down){if("keyup"==c.type){var d=!1;switch(c.keyCode){case a.keyCode.up:case a.keyCode.down:m.isOpen()||(d=!0);break;case a.keyCode.esc:m.isOpen()&&(e.value=j,e.autoComplt.close(a.hiddenArg_close_list_n_make_final_selection));break;case a.keyCode.enter:m.isOpen()&&(o(),e.autoComplt.close(a.hiddenArg_close_list_n_make_final_selection));break;default:d=!0}d&&(e.value.length>0?n():e.autoComplt.close())}}else{var f=m.getPicked();c.keyCode===a.keyCode.up?f?f.previousSibling?m.pick(f.previousSibling):m.unpick():m.pick(-1):c.keyCode===a.keyCode.down&&(f?f.nextSibling?m.pick(f.nextSibling):m.unpick():m.pick(0)),m.autoScroll(),o()}},r=function(a){null!=l&&"function"==typeof l[a]&&l[a].call(e)};return e.autoComplt.setHintsFetcher=function(a){return null===a||"function"==typeof a?(k=a,!0):!1},e.autoComplt.setListener=function(b,c){return(null===c||"function"==typeof c)&&a.listenersSupported.indexOf(b)>=0?(null==l&&(l={}),l[b]=c,!0):!1},e.autoComplt.setStyles=function(b,c){var d,e,f=!1;switch(b){case a.autoCompltListClass:d=m.styles.autoCompltList,e=a.adjStyleAttrs.autoCompltList;break;case a.autoCompltHintClass:d=m.styles.autoCompltHint,e=a.adjStyleAttrs.autoCompltHint;break;case a.autoCompltHintSelectedClass:d=m.styles.autoCompltHintSelected,e=a.adjStyleAttrs.autoCompltHintSelected}if(c instanceof Object&&d&&e)for(var g=0;g<e.length;g++)("string"==typeof c[e[g]]||"number"==typeof c[e[g]])&&(f||(f={}),f[e[g]]=d[e[g]]=c[e[g]]);return f},e.autoComplt.config=function(a){var b=!1;if(a instanceof Object){var c;void 0!==a.delay&&(c=Math.floor(a.delay))>0&&(b||(b={}),h=b.delay=c),void 0!==a.maxHintNum&&(c=Math.floor(a.maxHintNum))>0&&(b||(b={}),m.maxHintNum=b.maxHintNum=c)}return b},e.autoComplt.close=function(){j="",m.close(),i&&""!==e.value&&arguments[0]===a.hiddenArg_close_list_n_make_final_selection&&r("select")},e.autoComplt.enable=function(){i=!0},e.autoComplt.disable=function(){i=!1,this.close()},e.autoComplt.destroy=function(){d(e,"blur",p),d(e,"keyup",q),d(e,"keydown",q),this.disable(),delete e.autoComplt},m.onMouseSelectionListener=function(){o(),e.autoComplt.close(a.hiddenArg_close_list_n_make_final_selection)},c(e,"blur",p),c(e,"keyup",q),c(e,"keydown",q),f instanceof Object&&(e.autoComplt.config(f),e.autoComplt.setHintsFetcher(f.hintsFetcher)),e}return null}};return h}(),autoComplt=function(){Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){if(void 0===this||null===this)throw new TypeError('"this" is null or not defined');var c=this.length>>>0;for(b=+b||0,Math.abs(b)===1/0&&(b=0),0>b&&(b+=c,0>b&&(b=0));c>b;b++)if(this[b]===a)return b;return-1});var a={autoCompltListClass:"autoComplt-list",autoCompltHintClass:"autoComplt-hint",autoCompltHintSelectedClass:"autoComplt-hint-selected",maxHintNum:10,autoCompltDelay:250,hiddenArg_close_list_n_make_final_selection:"hiddenArg_close_list_n_make_final_selection",listStatus:{attr:"data-listStatus",open:"open"},keyCode:{up:38,down:40,esc:27,enter:13},defaultStyles:{autoCompltList:{maxHeight:"none",border:"1px solid #aaa",padding:"0",margin:"0",zIndex:99,overflowX:"hidden",overflowY:"auto",display:"none",position:"absolute",backgroundColor:"#fff"},autoCompltHint:{height:"1.5em",padding:"2px 6px 2px 10px",margin:"6px 0",overflow:"hidden",listStyleType:"none",color:"#000",backgroundColor:"#fff",cursor:"default",fontSize:"1em"},autoCompltHintSelected:{color:"#fff",backgroundColor:"#3399ff"}},adjStyleAttrs:{autoCompltList:["border","maxHeight","backgroundColor"],autoCompltHint:["height","padding","margin","color","backgroundColor","fontSize"],autoCompltHintSelected:["color","backgroundColor"]},listenersSupported:["select"]},b=function(a){return a=a||window.event,a.target=a.target||a.srcElement,a.stopBubble=function(){this.cancelBubble=!0,this.stopPropoagation&&this.stopPropoagation()},a.stopDefault=function(){return this.preventDefault&&this.preventDefault(),this.returnValue=!1,!1},a},c=function(a,b,c){a.addEventListener?a.addEventListener(b,c):a.attachEvent&&a.attachEvent("on"+b,c)},d=function(a,b,c){a.removeEventListener?a.removeEventListener(b,c):a.detachEvent&&a.detachEvent("on"+b,c)},e=function(a,b){var c=null;if(window.getComputedStyle)c=window.getComputedStyle(a)[b]||null;else if(a.currentStyle){c=a.currentStyle&&a.currentStyle[b];var d,e,f=a.style;null==c&&f&&f[b]&&(c=f[b]),d=f.left,e=a.runtimeStyle&&a.runtimeStyle.left,e&&(a.runtimeStyle.left=a.currentStyle.left),f.left="fontSize"===b?"1em":c,c=f.pixelLeft+"px",f.left=d,e&&(a.runtimeStyle.left=e)}return c},f={buildElem:function(a){var b=document.createElement("DIV");return b.innerHTML=a,b.firstChild.cloneNode(!0)},buildHint:function(b,c){return"string"==typeof b&&b?(b=this.buildElem('<li class="'+a.autoCompltHintClass+'">'+b+"</li>"),b.style.height=b.style.lineHeight=c.autoCompltHint.height,b.style.padding=c.autoCompltHint.padding,b.style.margin=c.autoCompltHint.margin,b.style.overflow=c.autoCompltHint.overflow,b.style.listStyleType=c.autoCompltHint.listStyleType,b.style.color=c.autoCompltHint.color,b.style.backgroundColor=c.autoCompltHint.backgroundColor,b.style.cursor=c.autoCompltHint.cursor,b.style.fontSize=c.autoCompltHint.fontSize,b):null},buildList:function(b){var c=this.buildElem('<ul class="'+a.autoCompltListClass+'"></ul>');return c.style.maxHeight=b.autoCompltList.maxHeight,c.style.border=b.autoCompltList.border,c.style.padding=b.autoCompltList.padding,c.style.margin=b.autoCompltList.margin,c.style.zIndex=b.autoCompltList.zIndex,c.style.overflowX=b.autoCompltList.overflowX,c.style.overflowY=b.autoCompltList.overflowY,c.style.display=b.autoCompltList.display,c.style.position=b.autoCompltList.position,c.style.backgroundColor=b.autoCompltList.backgroundColor,c}},g=function(b){this.uiElem=null,this.assocInput=b,this.mouseOnList=!1,this.onMouseSelectionListener=null,this.maxHintNum=a.maxHintNum,this.styles=JSON.parse(JSON.stringify(a.defaultStyles))};g.prototype.genList=function(){if(!this.uiElem){var a=this;this.uiElem=f.buildList(this.styles),c(this.uiElem,"mouseover",function(c){c=b(c),a.isHint(c.target)&&(a.pick(c.target),a.autoScroll())}),c(this.uiElem,"mouseout",function(){a.unpick()}),c(this.uiElem,"mousedown",function(){a.mouseOnList=!0,setTimeout(function(){a.assocInput.focus()},50)}),c(this.uiElem,"mouseup",function(c){c=b(c),a.isHint(c.target)&&(a.pick(c.target),"function"==typeof a.onMouseSelectionListener&&a.onMouseSelectionListener())}),document.body.appendChild(this.uiElem)}},g.prototype.isHint=function(b){if(b&&"object"==typeof b&&1===b.nodeType){var c=" "+b.className+" ";return c.indexOf(" "+a.autoCompltHintClass+" ")>=0}return!1},g.prototype.putHints=function(a){var b=0;if(a instanceof Array){var c,d,e=[];for(d=Math.min(a.length,this.maxHintNum),c=0;d>c;c++)e.push(f.buildHint(a[c],this.styles)),e[e.length-1]||e.pop();if(e.length>0){var g=document.createDocumentFragment();for(c=0,b=e.length;b>c;c++)g.appendChild(e[c]);this.clearHints(),this.genList(),this.uiElem.appendChild(g)}}return b},g.prototype.clearHints=function(){this.uiElem&&(this.uiElem.innerHTML="")},g.prototype.isOpen=function(){return this.uiElem?this.uiElem.getAttribute(a.listStatus.attr)==a.listStatus.open:!1},g.prototype.open=function(){var b;if(this.uiElem&&(b=this.uiElem.querySelectorAll("."+a.autoCompltHintClass))&&b.length){var c,d;for(d=this.assocInput.getBoundingClientRect(),this.uiElem.style.top=(document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop)+d.bottom+"px",this.uiElem.style.left=d.left+"px",d=d.right-d.left-parseFloat(e(this.uiElem,"borderLeftWidth"))-parseFloat(e(this.uiElem,"borderRightWidth")),this.uiElem.style.width=d+"px",c=0,d=0;c<b.length;c++)d+=parseFloat(e(b[c],"height"))+parseFloat(e(b[c],"paddingTop"))+parseFloat(e(b[c],"paddingBottom")),b[c+1]&&(d+=Math.max(parseFloat(e(b[c],"marginBottom")),parseFloat(e(b[c+1],"marginTop"))));d+=parseFloat(e(b[0],"marginTop"))+parseFloat(e(b[b.length-1],"marginBottom")),this.uiElem.style.height=d+1+"px",this.uiElem.setAttribute(a.listStatus.attr,a.listStatus.open),this.uiElem.style.display="block"}},g.prototype.close=function(){this.uiElem&&(this.mouseOnList=!1,this.uiElem.parentNode.removeChild(this.uiElem),this.uiElem=null)},g.prototype.autoScroll=function(){var a=this.getPicked();if(a){var b,c=0,d=0,f=a.clientHeight,g=parseFloat(e(a,"marginTop")),h=parseFloat(e(a,"marginBottom"));for(b=a.previousSibling,d=f+(b?Math.max(g,h):g);b;)c+=f,b=b.previousSibling,c+=b?Math.max(g,h):g;(this.uiElem.clientHeight+this.uiElem.scrollTop-c<d||c-this.uiElem.scrollTop<d)&&(this.uiElem.scrollTop=c)}},g.prototype.pick=function(b){if(this.uiElem){var c=null;if(this.isHint(b))c=b;else if("number"==typeof b&&(b>=0||-1===b)){var d=this.uiElem.querySelectorAll("."+a.autoCompltHintClass);d.length>0&&(c=+b,c=-1===c||c>d.length-1?d.length-1:c,c=d[c])}null!==c&&(this.unpick(),c.className+=" "+a.autoCompltHintSelectedClass,c.style.color=this.styles.autoCompltHintSelected.color,c.style.backgroundColor=this.styles.autoCompltHintSelected.backgroundColor)}},g.prototype.unpick=function(){if(this.uiElem){var b=this.getPicked();b&&(b.className=a.autoCompltHintClass,b.style.color=this.styles.autoCompltHint.color,b.style.backgroundColor=this.styles.autoCompltHint.backgroundColor)}},g.prototype.getPicked=function(){return this.uiElem?this.uiElem.querySelector("."+a.autoCompltHintSelectedClass)||null:null};var h={enable:function(e,f){if(e&&"object"==typeof e&&"string"==typeof e.tagName&&"input"==e.tagName.toLowerCase()&&"text"==e.type&&1===e.nodeType&&!e.autoComplt){e.autoComplt={};var h=a.autoCompltDelay,i=!0,j="",k=null,l=null,m=new g(e),n=function(){if(e.value.length>0&&i&&"function"==typeof k&&j!==e.value){var a={that:e,compltTarget:j=e.value,compltTargetMatchCurrentTarget:function(){return a.compltTarget===j},call:function(){a.compltTargetMatchCurrentTarget()&&k.call(a.that,a.compltTarget,a.openHint)},openHint:function(b){a.compltTargetMatchCurrentTarget()&&(m.putHints(b)?m.open():a.that.autoComplt.close())}};setTimeout(a.call,h)}},o=function(){if(i){var a=m.getPicked();e.value=a?a.innerHTML:j}},p=function(){m.mouseOnList?(e.focus(),m.mouseOnList=!1):e.autoComplt.close(a.hiddenArg_close_list_n_make_final_selection)},q=function(c){if(c=b(c),i)if("keydown"!=c.type||!m.isOpen()||c.keyCode!==a.keyCode.up&&c.keyCode!==a.keyCode.down){if("keyup"==c.type){var d=!1;switch(c.keyCode){case a.keyCode.up:case a.keyCode.down:m.isOpen()||(d=!0);break;case a.keyCode.esc:m.isOpen()&&(e.value=j,e.autoComplt.close(a.hiddenArg_close_list_n_make_final_selection));break;case a.keyCode.enter:m.isOpen()&&(o(),e.autoComplt.close(a.hiddenArg_close_list_n_make_final_selection));break;default:d=!0}d&&(e.value.length>0?n():e.autoComplt.close())}}else{var f=m.getPicked();c.keyCode===a.keyCode.up?f?f.previousSibling?m.pick(f.previousSibling):m.unpick():m.pick(-1):c.keyCode===a.keyCode.down&&(f?f.nextSibling?m.pick(f.nextSibling):m.unpick():m.pick(0)),m.autoScroll(),o()}},r=function(a){null!=l&&"function"==typeof l[a]&&l[a].call(e)};return e.autoComplt.setHintsFetcher=function(a){return null===a||"function"==typeof a?(k=a,!0):!1},e.autoComplt.setListener=function(b,c){return(null===c||"function"==typeof c)&&a.listenersSupported.indexOf(b)>=0?(null==l&&(l={}),l[b]=c,!0):!1},e.autoComplt.setStyles=function(b,c){var d,e,f=!1;switch(b){case a.autoCompltListClass:d=m.styles.autoCompltList,e=a.adjStyleAttrs.autoCompltList;break;case a.autoCompltHintClass:d=m.styles.autoCompltHint,e=a.adjStyleAttrs.autoCompltHint;break;case a.autoCompltHintSelectedClass:d=m.styles.autoCompltHintSelected,e=a.adjStyleAttrs.autoCompltHintSelected}if(c instanceof Object&&d&&e)for(var g=0;g<e.length;g++)("string"==typeof c[e[g]]||"number"==typeof c[e[g]])&&(f||(f={}),f[e[g]]=d[e[g]]=c[e[g]]);return f},e.autoComplt.config=function(a){var b=!1;if(a instanceof Object){var c;void 0!==a.delay&&(c=Math.floor(a.delay))>0&&(b||(b={}),h=b.delay=c),void 0!==a.maxHintNum&&(c=Math.floor(a.maxHintNum))>0&&(b||(b={}),m.maxHintNum=b.maxHintNum=c)}return b},e.autoComplt.close=function(){j="",m.close(),i&&""!==e.value&&arguments[0]===a.hiddenArg_close_list_n_make_final_selection&&r("select")},e.autoComplt.enable=function(){i=!0},e.autoComplt.disable=function(){i=!1,this.close()},e.autoComplt.destroy=function(){d(e,"blur",p),d(e,"keyup",q),d(e,"keydown",q),this.disable(),delete e.autoComplt},m.onMouseSelectionListener=function(){o(),e.autoComplt.close(a.hiddenArg_close_list_n_make_final_selection)},c(e,"blur",p),c(e,"keyup",q),c(e,"keydown",q),f instanceof Object&&(e.autoComplt.config(f),e.autoComplt.setHintsFetcher(f.hintsFetcher)),e}return null}};return h}();